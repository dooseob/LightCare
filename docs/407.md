Railway ë¹Œë“œ ì‹¤íŒ¨ ë¬¸ì œë¥¼ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤. ì œê³µí•´ì£¼ì‹  ìë£Œë¥¼ ë³´ë©´ **"Error: invalid digit found in string"** ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.

## ğŸ” ë¬¸ì œ ë¶„ì„

**ì£¼ìš” ë¬¸ì œì :**
1. `nixpacks.toml` íŒŒì¼ì˜ ì„¤ì • í˜•ì‹ ì˜¤ë¥˜
2. Gradle ë²„ì „ íŒŒì‹± ë¬¸ì œ
3. nixPkgs ì„¤ì • ëˆ„ë½

## ğŸ› ï¸ í•´ê²°ì±…

### 1. nixpacks.toml íŒŒì¼ ìˆ˜ì •

í˜„ì¬ íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì„¸ìš”:### 2. .env íŒŒì¼ ìƒì„± (Railway í™˜ê²½ë³€ìˆ˜ìš©)

Railway í™˜ê²½ë³€ìˆ˜ ì„¤ì •ì„ ìœ„í•œ ì°¸ê³ ìš© íŒŒì¼:### 3. application-production.yml íŒŒì¼ ìƒì„± (ì„ íƒì‚¬í•­)

í”„ë¡œë•ì…˜ í™˜ê²½ ìµœì í™”ë¥¼ ìœ„í•œ ì„¤ì •:## ğŸ“‹ í•´ê²° ë‹¨ê³„

### 1. ì¦‰ì‹œ ìˆ˜ì •í•  íŒŒì¼
1. **nixpacks.toml** - ìœ„ì˜ ìˆ˜ì •ëœ ë²„ì „ìœ¼ë¡œ êµì²´
2. **Railway í™˜ê²½ë³€ìˆ˜ ì„¤ì •** - Railway ëŒ€ì‹œë³´ë“œì—ì„œ Variables íƒ­ì—ì„œ ì„¤ì •

### 2. Railway ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •í•  í™˜ê²½ë³€ìˆ˜
```
SPRING_PROFILES_ACTIVE=production
JAVA_OPTS=-Xmx300m -XX:+UseG1GC
DATABASE_URL=(MySQL ì„œë¹„ìŠ¤ì™€ ìë™ ì—°ê²°ë¨)
KAKAO_APP_KEY=your_actual_key
PORT=8080
```

### 3. ì¶”ê°€ ê¶Œì¥ì‚¬í•­

**íŒŒì¼ êµ¬ì¡° í™•ì¸:**
```
í”„ë¡œì íŠ¸ ë£¨íŠ¸/
â”œâ”€â”€ nixpacks.toml (ìˆ˜ì •ë¨)
â”œâ”€â”€ build.gradle
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ application.yml
â”‚           â””â”€â”€ application-production.yml (ìƒˆë¡œ ì¶”ê°€)
â”œâ”€â”€ gradlew
â””â”€â”€ gradlew.bat
```

## ğŸš€ ë°°í¬ ì¬ì‹œë„ ë°©ë²•

1. ìˆ˜ì •ëœ `nixpacks.toml` íŒŒì¼ì„ ì»¤ë°‹í•˜ê³  í‘¸ì‹œ
2. Railwayì—ì„œ í™˜ê²½ë³€ìˆ˜ ì„¤ì •
3. Railwayì—ì„œ **Redeploy** ë²„íŠ¼ í´ë¦­

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë©”ëª¨ë¦¬ ì œí•œ**: Railway ë¬´ë£Œ í”Œëœì€ 512MB ë©”ëª¨ë¦¬ ì œí•œì´ ìˆìœ¼ë¯€ë¡œ JVM ì˜µì…˜ ì¡°ì • í•„ìš”
2. **MySQL ì—°ê²°**: MySQL ì„œë¹„ìŠ¤ê°€ í™œì„± ìƒíƒœì´ë¯€ë¡œ ì—°ê²° ì„¤ì • í™•ì¸
3. **í™˜ê²½ë³€ìˆ˜**: ë¯¼ê°í•œ ì •ë³´(API í‚¤, DB ë¹„ë°€ë²ˆí˜¸)ëŠ” Railway Variablesì—ì„œë§Œ ì„¤ì •

ì´ ìˆ˜ì •ì‚¬í•­ìœ¼ë¡œ ë¹Œë“œ ì˜¤ë¥˜ê°€ í•´ê²°ë  ê²ƒì…ë‹ˆë‹¤. ì¶”ê°€ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë¹Œë“œ ë¡œê·¸ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”!

---

ìˆ˜ì •ëœ nixpacks.toml
# Railway ë°°í¬ë¥¼ ìœ„í•œ Nixpacks ì„¤ì •
[variables]
NIXPACKS_JDK_VERSION = "11"

[phases.setup]
nixPkgs = ["openjdk11"]

[phases.build] 
cmds = [
    "chmod +x gradlew",
    "./gradlew clean build -x test --no-daemon"
]

[start]
cmd = "java -Xmx300m -jar build/libs/carelink-0.0.1-SNAPSHOT.jar"

---
## .env.example (Railway í™˜ê²½ë³€ìˆ˜ ì°¸ê³ )

# Railway í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì˜ˆì‹œ
# ì‹¤ì œ Railway ëŒ€ì‹œë³´ë“œì—ì„œ Variables íƒ­ì—ì„œ ì„¤ì •í•˜ì„¸ìš”

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (MySQL ì„œë¹„ìŠ¤ì™€ ìë™ ì—°ê²°)
DATABASE_URL=mysql://user:password@host:port/database
MYSQLHOST=railway_mysql_host
MYSQLPORT=3306
MYSQLDATABASE=carelink
MYSQLUSER=root
MYSQLPASSWORD=your_mysql_password

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
PORT=8080
SPRING_PROFILES_ACTIVE=production
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=INFO
THYMELEAF_CACHE=true

# íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
UPLOAD_BASE_PATH=/app/uploads
MAX_FILE_SIZE=10MB
MAX_REQUEST_SIZE=10MB

# API í‚¤
KAKAO_APP_KEY=your_kakao_app_key

# Railway ìµœì í™”
RAILWAY_ENVIRONMENT=production
JAVA_OPTS=-Xmx300m -XX:+UseG1GC -XX:+UseStringDeduplication

---

## application-production.yml

# Railway í”„ë¡œë•ì…˜ í™˜ê²½ ìµœì í™” ì„¤ì •
spring:
  # í”„ë¡œë•ì…˜ ë°ì´í„°ì†ŒìŠ¤ ì„¤ì •
  datasource:
    hikari:
      maximum-pool-size: 3  # Railway ë©”ëª¨ë¦¬ ì œí•œ ê³ ë ¤
      minimum-idle: 1
      connection-timeout: 20000
      idle-timeout: 300000
      max-lifetime: 1200000
      leak-detection-threshold: 60000
      
  # JPA ìµœì í™”
  jpa:
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        use_sql_comments: false
        jdbc:
          batch_size: 20
        order_inserts: true
        order_updates: true
        
  # Thymeleaf ìºì‹œ í™œì„±í™”
  thymeleaf:
    cache: true
    
  # ì••ì¶• í™œì„±í™”
  compression:
    enabled: true
    mime-types: text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
    min-response-size: 1024

# ì„œë²„ ìµœì í™”
server:
  compression:
    enabled: true
  http2:
    enabled: true
  shutdown: graceful
  
# ë¡œê¹… ìµœì í™”
logging:
  level:
    root: WARN
    com.example.carelink: INFO
    org.springframework: WARN
    org.mybatis: WARN
  pattern:
    console: "%d{HH:mm:ss} %-5level [%thread] %logger{36} - %msg%n"
    
# Actuator ìµœì í™”
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: never