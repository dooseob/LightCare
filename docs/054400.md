transaction
2025-07-07 05:44:00.464  INFO 4648 --- [io-8080-exec-10] c.example.carelink.service.BoardService  : 전체 게시글 수 조회 시작
2025-07-07 05:44:00.465 DEBUG 4648 --- [io-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 05:44:00.465 DEBUG 4648 --- [io-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78389696] was not registered for synchronization because synchronization is not active
2025-07-07 05:44:00.465 DEBUG 4648 --- [io-8080-exec-10] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-07-07 05:44:00.465 DEBUG 4648 --- [io-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1922096940 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] will not be managed by Spring
2025-07-07 05:44:00.465 DEBUG 4648 --- [io-8080-exec-10] c.e.c.dao.BoardMapper.getBoardCount      : ==>  Preparing: SELECT COUNT(*) FROM board b LEFT JOIN member m ON b.member_id = m.member_id WHERE COALESCE(b.is_active, true) = true AND COALESCE(b.is_deleted, false) = false
2025-07-07 05:44:00.465 DEBUG 4648 --- [io-8080-exec-10] c.e.c.dao.BoardMapper.getBoardCount      : ==> Parameters:
2025-07-07 05:44:00.467 DEBUG 4648 --- [io-8080-exec-10] c.e.c.dao.BoardMapper.getBoardCount      : <==      Total: 1
2025-07-07 05:44:00.468 DEBUG 4648 --- [io-8080-exec-10] o.m.s.t.SpringManagedTransaction         : Committing JDBC Connection [HikariProxyConnection@1922096940 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:00.468 DEBUG 4648 --- [io-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78389696]
2025-07-07 05:44:00.468  INFO 4648 --- [io-8080-exec-10] c.example.carelink.service.BoardService  : 전체 게시글 수 조회 완료 - 총 10건
2025-07-07 05:44:00.468  INFO 4648 --- [io-8080-exec-10] c.e.carelink.controller.HomeController   : 통계 데이터 - 시설: 5, 구인구직: 5, 리뷰: 12, 회원: 7, 게시글: 10
2025-07-07 05:44:00.468  INFO 4648 --- [io-8080-exec-10] c.e.carelink.controller.HomeController   : 메인 페이지 접속
2025-07-07 05:44:00.469 DEBUG 4648 --- [io-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8]
2025-07-07 05:44:00.495 DEBUG 4648 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:00.520 DEBUG 4648 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/css/common.css", parameters={}
2025-07-07 05:44:00.520 DEBUG 4648 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:00.526 DEBUG 4648 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/js/smart-scroll-utility.js", parameters={}
2025-07-07 05:44:00.527 DEBUG 4648 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/js/common.js", parameters={}
2025-07-07 05:44:00.528 DEBUG 4648 --- [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:00.529 DEBUG 4648 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:00.529 DEBUG 4648 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:00.535 DEBUG 4648 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:00.535 DEBUG 4648 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:03.846 DEBUG 4648 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/facility/manage", parameters={}
2025-07-07 05:44:03.847 DEBUG 4648 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityController#manageFacility(HttpSession, Model, RedirectAttributes)
2025-07-07 05:44:03.848  INFO 4648 --- [nio-8080-exec-4] c.e.carelink.service.FacilityService     : 회원의 시설 목록 조회 시작 - memberId: 6
2025-07-07 05:44:03.848 DEBUG 4648 --- [nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 05:44:03.848 DEBUG 4648 --- [nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5949e21c] was not registered for synchronization because synchronization is not active
2025-07-07 05:44:03.848 DEBUG 4648 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-07-07 05:44:03.849 DEBUG 4648 --- [nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996495370 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] will not be managed by Spring
2025-07-07 05:44:03.849 DEBUG 4648 --- [nio-8080-exec-4] c.e.c.d.F.getFacilitiesByMemberId        : ==>  Preparing: SELECT facility_id as facilityId, facility_name as facilityName, facility_type as facilityType, address, detail_address as detailAddress, phone, latitude, longitude, description, facility_image as facilityImage, homepage, capacity, current_occupancy as currentOccupancy, operating_hours as operatingHours, features, average_rating as averageRating, review_count as reviewCount, grade_rating as gradeRating, registered_member_id as registeredMemberId, is_approved as isApproved, approval_status as approvalStatus, created_at as createdAt, updated_at as updatedAt, is_deleted as isDeleted FROM facility WHERE registered_member_id = ? AND is_deleted = false ORDER BY created_at DESC
2025-07-07 05:44:03.849 DEBUG 4648 --- [nio-8080-exec-4] c.e.c.d.F.getFacilitiesByMemberId        : ==> Parameters: 6(Long)
2025-07-07 05:44:03.856 DEBUG 4648 --- [nio-8080-exec-4] c.e.c.d.F.getFacilitiesByMemberId        : <==      Total: 4
2025-07-07 05:44:03.857 DEBUG 4648 --- [nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : Committing JDBC Connection [HikariProxyConnection@996495370 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:03.857 DEBUG 4648 --- [nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5949e21c]
2025-07-07 05:44:03.857  INFO 4648 --- [nio-8080-exec-4] c.e.carelink.service.FacilityService     : 회원의 시설 목록 조회 완료 - memberId: 6, 시설 수: 4
2025-07-07 05:44:03.858  INFO 4648 --- [nio-8080-exec-4] c.e.c.controller.FacilityController      : 시설 관리 페이지 접근: memberId=6, 시설 수=4
2025-07-07 05:44:03.859 DEBUG 4648 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8]
2025-07-07 05:44:03.896 DEBUG 4648 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/css/common.css", parameters={}
2025-07-07 05:44:03.896 DEBUG 4648 --- [nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:03.897 DEBUG 4648 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/js/smart-scroll-utility.js", parameters={}
2025-07-07 05:44:03.897 DEBUG 4648 --- [nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:03.903 DEBUG 4648 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:03.905 DEBUG 4648 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:03.916 DEBUG 4648 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:03.923 DEBUG 4648 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/js/common.js", parameters={}
2025-07-07 05:44:03.923 DEBUG 4648 --- [nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:03.930 DEBUG 4648 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:05.065 DEBUG 4648 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/facility/1/info", parameters={}
2025-07-07 05:44:05.065 DEBUG 4648 --- [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityImageApiController#getFacilityInfo(Long, HttpSession)
2025-07-07 05:44:05.070  INFO 4648 --- [nio-8080-exec-9] c.e.c.c.FacilityImageApiController       : 🔍 시설 기본 정보 조회 API 호출 - facilityId: 1
2025-07-07 05:44:05.070 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 05:44:05.071 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@706911043 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] for JDBC transaction
2025-07-07 05:44:05.071 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@706911043 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] read-only
2025-07-07 05:44:05.071  INFO 4648 --- [nio-8080-exec-9] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 05:44:05.072 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 05:44:05.072 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59ad3d]
2025-07-07 05:44:05.072 DEBUG 4648 --- [nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@706911043 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] will be managed by Spring
2025-07-07 05:44:05.072 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 05:44:05.073 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 05:44:05.076 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 05:44:05.076 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59ad3d]
2025-07-07 05:44:05.076 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 05:44:05.081  INFO 4648 --- [nio-8080-exec-9] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 05:44:05.082 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59ad3d] from current transaction
2025-07-07 05:44:05.082 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 05:44:05.082 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 05:44:05.087 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 05:44:05.087 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59ad3d]
2025-07-07 05:44:05.087  INFO 4648 --- [nio-8080-exec-9] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:05.088  INFO 4648 --- [nio-8080-exec-9] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:05.088 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59ad3d]
2025-07-07 05:44:05.088 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59ad3d]
2025-07-07 05:44:05.088 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b59ad3d]
2025-07-07 05:44:05.088 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 05:44:05.088 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@706911043 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:05.088 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@706911043 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:05.089 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@706911043 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] after transaction
2025-07-07 05:44:05.089 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 05:44:05.089 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1320432662 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] for JDBC transaction
2025-07-07 05:44:05.089 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1320432662 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] read-only
2025-07-07 05:44:05.090  INFO 4648 --- [nio-8080-exec-9] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 05:44:05.090 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 05:44:05.090 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5de5e5]
2025-07-07 05:44:05.090 DEBUG 4648 --- [nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320432662 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] will be managed by Spring
2025-07-07 05:44:05.090 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 05:44:05.091 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 05:44:05.095 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 05:44:05.095 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5de5e5]
2025-07-07 05:44:05.095 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 05:44:05.095  INFO 4648 --- [nio-8080-exec-9] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 05:44:05.095 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5de5e5] from current transaction
2025-07-07 05:44:05.096 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 05:44:05.096 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 05:44:05.098 DEBUG 4648 --- [nio-8080-exec-9] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 05:44:05.098 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5de5e5]
2025-07-07 05:44:05.098  INFO 4648 --- [nio-8080-exec-9] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:05.099  INFO 4648 --- [nio-8080-exec-9] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:05.099 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5de5e5]
2025-07-07 05:44:05.099 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5de5e5]
2025-07-07 05:44:05.099 DEBUG 4648 --- [nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5de5e5]
2025-07-07 05:44:05.099 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 05:44:05.099 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1320432662 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:05.099 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1320432662 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:05.100 DEBUG 4648 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1320432662 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] after transaction
2025-07-07 05:44:05.100  INFO 4648 --- [nio-8080-exec-9] c.e.c.c.FacilityImageApiController       : ✅ 시설 기본 정보 조회 성공 - facilityId: 1
2025-07-07 05:44:05.102 DEBUG 4648 --- [nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 05:44:05.103 DEBUG 4648 --- [nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [{success=true, facility=FacilityDTO(facilityId=1, facilityName=서울 행복요양원, facilityType=NURSING_HOME,  (truncated)...]
2025-07-07 05:44:05.124 DEBUG 4648 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.656 DEBUG 4648 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/facility/edit/1", parameters={}
2025-07-07 05:44:06.657 DEBUG 4648 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityController#editFacilityForm(Long, HttpSession, Model, RedirectAttributes)
2025-07-07 05:44:06.658 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 05:44:06.658 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@2028249280 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] for JDBC transaction
2025-07-07 05:44:06.658 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@2028249280 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] read-only
2025-07-07 05:44:06.659  INFO 4648 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 05:44:06.659 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 05:44:06.659 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f8c160]
2025-07-07 05:44:06.659 DEBUG 4648 --- [nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028249280 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] will be managed by Spring
2025-07-07 05:44:06.659 DEBUG 4648 --- [nio-8080-exec-7] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 05:44:06.659 DEBUG 4648 --- [nio-8080-exec-7] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 05:44:06.661 DEBUG 4648 --- [nio-8080-exec-7] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 05:44:06.662 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f8c160]
2025-07-07 05:44:06.662 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 05:44:06.662  INFO 4648 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 05:44:06.662 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f8c160] from current transaction
2025-07-07 05:44:06.662 DEBUG 4648 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 05:44:06.662 DEBUG 4648 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 05:44:06.664 DEBUG 4648 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 05:44:06.665 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f8c160]
2025-07-07 05:44:06.665  INFO 4648 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:06.665  INFO 4648 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:06.665 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f8c160]
2025-07-07 05:44:06.665 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f8c160]
2025-07-07 05:44:06.665 DEBUG 4648 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37f8c160]
2025-07-07 05:44:06.665 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 05:44:06.665 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@2028249280 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:06.665 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@2028249280 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:06.666 DEBUG 4648 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@2028249280 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] after transaction
2025-07-07 05:44:06.666  INFO 4648 --- [nio-8080-exec-7] c.e.c.controller.FacilityController      : 시설 수정 페이지 접근: facilityId=1, memberId=6
2025-07-07 05:44:06.667 DEBUG 4648 --- [nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8]
2025-07-07 05:44:06.712 DEBUG 4648 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.713 DEBUG 4648 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/css/common.css", parameters={}
2025-07-07 05:44:06.714 DEBUG 4648 --- [io-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.719 DEBUG 4648 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/js/smart-scroll-utility.js", parameters={}
2025-07-07 05:44:06.719 DEBUG 4648 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.721 DEBUG 4648 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.723 DEBUG 4648 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp", parameters={}
2025-07-07 05:44:06.724 DEBUG 4648 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/js/common.js", parameters={}
2025-07-07 05:44:06.724 DEBUG 4648 --- [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [URL [file:C:/carelink-uploads/facility/]]
2025-07-07 05:44:06.725 DEBUG 4648 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.728 DEBUG 4648 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.734 DEBUG 4648 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.736 DEBUG 4648 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/js/kakaomap.js", parameters={}
2025-07-07 05:44:06.737 DEBUG 4648 --- [nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.738 DEBUG 4648 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/js/phone-formatter.js", parameters={}
2025-07-07 05:44:06.738 DEBUG 4648 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/js/facility-edit.js", parameters={}
2025-07-07 05:44:06.738 DEBUG 4648 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/css/advanced-image-cropper.css", parameters={}
2025-07-07 05:44:06.738 DEBUG 4648 --- [nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.738 DEBUG 4648 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.739 DEBUG 4648 --- [nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.740 DEBUG 4648 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/js/advanced-image-cropper.js", parameters={}
2025-07-07 05:44:06.741 DEBUG 4648 --- [nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.741 DEBUG 4648 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.745 DEBUG 4648 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/css/rich-text-editor.css", parameters={}
2025-07-07 05:44:06.746 DEBUG 4648 --- [nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.748 DEBUG 4648 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.749 DEBUG 4648 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.750 DEBUG 4648 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/js/rich-text-editor.js", parameters={}
2025-07-07 05:44:06.751 DEBUG 4648 --- [nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:06.752 DEBUG 4648 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.752 DEBUG 4648 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.754 DEBUG 4648 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.755 DEBUG 4648 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:06.757 DEBUG 4648 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:09.977 DEBUG 4648 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/facility/crop-images/1", parameters={}
2025-07-07 05:44:09.978 DEBUG 4648 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityController#cropImagePage(Long, HttpSession, Model, RedirectAttributes)
2025-07-07 05:44:09.979 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 05:44:09.979 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1462050033 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] for JDBC transaction
2025-07-07 05:44:09.979 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1462050033 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] read-only
2025-07-07 05:44:09.979  INFO 4648 --- [nio-8080-exec-2] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 05:44:09.979 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 05:44:09.980 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12278871]
2025-07-07 05:44:09.980 DEBUG 4648 --- [nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1462050033 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] will be managed by Spring
2025-07-07 05:44:09.980 DEBUG 4648 --- [nio-8080-exec-2] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 05:44:09.980 DEBUG 4648 --- [nio-8080-exec-2] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 05:44:09.982 DEBUG 4648 --- [nio-8080-exec-2] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 05:44:09.982 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12278871]
2025-07-07 05:44:09.982 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 05:44:09.982  INFO 4648 --- [nio-8080-exec-2] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 05:44:09.983 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12278871] from current transaction
2025-07-07 05:44:09.983 DEBUG 4648 --- [nio-8080-exec-2] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 05:44:09.983 DEBUG 4648 --- [nio-8080-exec-2] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 05:44:09.985 DEBUG 4648 --- [nio-8080-exec-2] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 05:44:09.985 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12278871]
2025-07-07 05:44:09.985  INFO 4648 --- [nio-8080-exec-2] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:09.985  INFO 4648 --- [nio-8080-exec-2] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 05:44:09.985 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12278871]
2025-07-07 05:44:09.985 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12278871]
2025-07-07 05:44:09.985 DEBUG 4648 --- [nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12278871]
2025-07-07 05:44:09.985 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 05:44:09.985 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1462050033 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:09.986 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1462050033 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe]
2025-07-07 05:44:09.986 DEBUG 4648 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1462050033 wrapping com.mysql.cj.jdbc.ConnectionImpl@15456cbe] after transaction
2025-07-07 05:44:09.986  INFO 4648 --- [nio-8080-exec-2] c.e.c.controller.FacilityController      : 시설 이미지 크롭 페이지 접속: facilityId=1, memberId=6
2025-07-07 05:44:09.987 DEBUG 4648 --- [nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8]
2025-07-07 05:44:10.009 DEBUG 4648 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:10.020 DEBUG 4648 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/css/common.css", parameters={}
2025-07-07 05:44:10.021 DEBUG 4648 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/js/smart-scroll-utility.js", parameters={}
2025-07-07 05:44:10.021 DEBUG 4648 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:10.022 DEBUG 4648 --- [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:10.029 DEBUG 4648 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:10.029 DEBUG 4648 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:10.033 DEBUG 4648 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/js/common.js", parameters={}
2025-07-07 05:44:10.034 DEBUG 4648 --- [nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:10.036 DEBUG 4648 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/css/advanced-image-cropper.css", parameters={}
2025-07-07 05:44:10.036 DEBUG 4648 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/js/facility-image-cropper.js", parameters={}
2025-07-07 05:44:10.036 DEBUG 4648 --- [nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:10.037 DEBUG 4648 --- [io-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:10.037 DEBUG 4648 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/js/facility-image-manage.js", parameters={}
2025-07-07 05:44:10.037 DEBUG 4648 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-07 05:44:10.042 DEBUG 4648 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:10.044 DEBUG 4648 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:10.045 DEBUG 4648 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:10.046 DEBUG 4648 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 05:44:15.951 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:44:15.951 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:44:15.951 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:44:45.963 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:44:45.963 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:44:45.963 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:45:15.976 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:45:15.976 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:45:15.976 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:45:45.987 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:45:45.987 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:45:45.988 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:46:15.991 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:46:15.991 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:46:15.991 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:46:46.007 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:46:46.007 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:46:46.007 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:47:16.014 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:47:16.014 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:47:16.014 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:47:46.023 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:47:46.023 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:47:46.024 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:48:16.025 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:48:16.025 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:48:16.025 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:48:46.029 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:48:46.029 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:48:46.029 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:49:16.044 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:49:16.044 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:49:16.044 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:49:46.057 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:49:46.057 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:49:46.057 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:50:16.060 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:50:16.060 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:50:16.060 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:50:46.072 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:50:46.072 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:50:46.072 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:51:16.081 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:51:16.081 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:51:16.081 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 05:51:46.095 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:51:46.095 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 05:51:46.095 DEBUG 4648 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.

📦 SmartScrollUtility 모듈 로드 완료
facility-image-cropper.js:2856 📋 facility-image-cropper.js 로드 완료 - 폴더 선택 및 관리 기능 포함
facility-image-manage.js:6 🛠️ 시설 이미지 관리 스크립트 로드됨
facility-image-manage.js:621 ✅ 시설 이미지 관리 스크립트 로드 완료
facility-image-manage.js:622 🧪 디버깅: window.facilityImageDebug 객체를 사용하여 테스트 가능
facility-image-manage.js:623 📖 사용 가능한 디버깅 명령:
facility-image-manage.js:624   - facilityImageDebug.checkDropdowns() : 드롭다운 상태 확인
facility-image-manage.js:625   - facilityImageDebug.checkManageSection() : 관리 섹션 상태 확인
facility-image-manage.js:626   - facilityImageDebug.forceDropdownOpen(0) : 첫 번째 드롭다운 강제 열기
facility-image-manage.js:627   - facilityImageDebug.simulateClick("[data-bs-toggle=dropdown]") : 클릭 시뮬레이션
facility-image-manage.js:628   - facilityImageDebug.checkAllEvents() : 테스트 요소 생성
facility-image-manage.js:629   - facilityImageDebug.checkHTMLStructure() : HTML 구조 상세 분석
facility-image-manage.js:630   - facilityImageDebug.findNullButtons() : null ID 버튼 찾기
1:675 🎨 시설 이미지 크롭퍼 페이지 로드 완료
1:676 📚 facility-image-cropper.js가 메인 로직을 처리합니다.
1:677 🛠️ facility-image-manage.js가 관리 기능을 처리합니다.
facility-image-cropper.js:25 🎬 시설 이미지 크롭퍼 초기화 시작 (프로필 방식 완전 적용)
facility-image-cropper.js:30 🏢 시설 ID: 1
facility-image-cropper.js:89 🔍 브라우저 이미지 포맷 지원 확인
facility-image-cropper.js:103 📊 포맷 지원 현황: {avif: false, webp: true}
facility-image-cropper.js:112 ⚠️ AVIF 미지원으로 옵션 숨김
facility-image-cropper.js:129 🔍 DOM 요소 초기화 시작
facility-image-cropper.js:184 ✅ DOM 요소 초기화 완료
facility-image-cropper.js:189 🔗 이벤트 리스너 설정 시작
facility-image-cropper.js:195 📁 파일 입력 이벤트 리스너 등록됨
facility-image-cropper.js:228 ✅ 파일 선택 버튼 이벤트 등록 완료 (캡처링 모드)
facility-image-cropper.js:260 ✅ 폴더 선택 버튼 이벤트 등록 완료 (캡처링 모드)
facility-image-cropper.js:411 ⚙️ 압축 컨트롤 설정 완료
facility-image-cropper.js:416 🔍 SEO 최적화 기능 설정 시작
facility-image-cropper.js:440 ✅ SEO 기능 설정 완료 - 키워드 버튼 5개 등록됨
facility-image-cropper.js:1927 ⌨️ 키보드 단축키 설정 완료
facility-image-cropper.js:366 ✅ 이벤트 리스너 설정 완료
facility-image-cropper.js:1790 🎯 드래그 앤 드롭 설정 완료
facility-image-cropper.js:38 ✅ 시설 이미지 크롭퍼 초기화 완료
facility-image-manage.js:14 📋 시설 이미지 관리 초기화 시작
facility-image-manage.js:19 🏢 시설 ID: 1
facility-image-manage.js:22 🌐 브라우저 환경: {userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb…KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', bootstrap: undefined, jquery: '3.7.0'}
facility-image-manage.js:34 🔧 이미지 관리 기능 초기화
facility-image-manage.js:47 🌐 전역 함수 설정 시작
facility-image-manage.js:224 ✅ 전역 함수 설정 완료
facility-image-manage.js:229 🎯 이벤트 위임 설정
facility-image-manage.js:368 ✅ 이벤트 위임 설정 완료 (상세 로그 포함)
facility-image-manage.js:42 ✅ 이미지 관리 기능 초기화 완료
contentScript.bundle.js:347 Strategy 4: No clear indicators found, assuming All tab
facility-image-cropper.js:44 🔍 버튼 상태 확인: {fileBtn: true, folderBtn: true, fileHandlers: null, folderHandlers: null}
facility-image-manage.js:573 🔍 페이지 로드 완료 후 상태 점검:
facility-image-manage.js:579 📋 DOM 요소 상태: {manageSection: true, manageSectionVisible: false, manageGrid: true, manageGridContent: 224}
facility-image-manage.js:591 📋 버튼 요소 상태: {dropdownToggles: 4, setMainButtons: 0, deleteButtons: 0}
facility-image-manage.js:602 드롭다운 1 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …><a class="dropdown-item" href="/review">시설 리뷰...', bootstrapInstance: null}
facility-image-manage.js:602 드롭다운 2 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …i><a class="dropdown-item" href="/job?type=sea...', bootstrapInstance: null}
facility-image-manage.js:602 드롭다운 3 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …i><a class="dropdown-item" href="/board?type=i...', bootstrapInstance: null}
facility-image-manage.js:602 드롭다운 4 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu dropdown-menu-end">\n     …();">내 정보</a></li>\n                           ...', bootstrapInstance: null}
facility-image-manage.js:611 📋 전역 함수 상태: {setMainImage: 'function', deleteImage: 'function', facilityImageDebug: 'object'}
facility-image-manage.js:617 ✅ 상태 점검 완료
facility-image-cropper.js:206 🎯 facility-image-cropper: 파일 선택 버튼 클릭됨 (다중 선택 모드)
facility-image-cropper.js:216 📂 파일 입력 모드: {multiple: true, webkitdirectory: false}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: '', id: 'imageInput', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:585 📁 다중 파일 업로드 이벤트 발생
facility-image-cropper.js:593 📸 선택된 파일 수: 1
facility-image-cropper.js:623 🔍 파일 검증: 행복요양원.png
facility-image-cropper.js:640 📦 파일 크기: 행복요양원.png (2.26MB) - 제한 없음
facility-image-cropper.js:642 ✅ 파일 검증 통과: 행복요양원.png
facility-image-cropper.js:650 🔄 1개 파일 순차 처리 시작
facility-image-cropper.js:653 📸 파일 처리 중: 행복요양원.png (1/1)
facility-image-cropper.js:675 ✅ 이미지 로드 완료: 행복요양원.png (1/1)
facility-image-cropper.js:679 🎉 모든 이미지 로드 완료 - 크롭 단계로 이동
facility-image-cropper.js:703 🖼️ 크롭퍼에 이미지 로드: 행복요양원.png
facility-image-cropper.js:728 🔄 이미지 전환: 1/1 - 행복요양원.png
facility-image-cropper.js:777 🔄 이미지 설정 복원 중: 행복요양원.png
facility-image-cropper.js:803 ✅ 이미지 설정 복원 완료: {altText: 'N/A', fileName: 'N/A'}
facility-image-cropper.js:713 ✅ 이미지 로드 완료, 크롭퍼 초기화 시작
facility-image-cropper.js:816 🔧 크롭퍼 초기화 - 16:9 비율 (프로필 방식)
facility-image-cropper.js:1063 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1077 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:858 ✅ 크롭퍼 준비 완료
facility-image-cropper.js:859 📐 컨테이너 크기: {width: 601, height: 328}
facility-image-cropper.js:1063 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1077 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:893 🎯 setupSmartScroll: 컨테이너 찾음 crop-image-container
facility-image-cropper.js:899 🖱️ 스마트 스크롤 기능 활성화
facility-image-cropper.js:987 ✅ 시설 크롭퍼 스마트 스크롤 이벤트 등록 완료
facility-image-cropper.js:988 🎯 이벤트 대상 컨테이너: crop-image-container DIV
facility-image-cropper.js:989 📏 현재 컨테이너 크기: 601 x 328
facility-image-cropper.js:1063 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1077 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:913 🔍 현재 줌: 0.19 방향: 축소
facility-image-cropper.js:961 🚫 최소 축소 완전 차단 - 줌 기능 무력화
facility-image-cropper.js:954 🚫 Cropper.zoom() 호출 차단됨
facility-image-cropper.js:913 🔍 현재 줌: 0.19 방향: 축소
facility-image-cropper.js:961 🚫 최소 축소 완전 차단 - 줌 기능 무력화
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'LABEL', className: 'btn btn-outline-secondary btn-sm', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: 'btn-check', id: 'formatJPEG', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:391 🔄 이미지 형식 변경: jpeg
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'LABEL', className: 'btn btn-outline-info btn-sm', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: 'btn-check', id: 'formatWebP', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:391 🔄 이미지 형식 변경: webp
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: 'form-control form-control-sm', id: 'altText', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: 'form-control form-control-sm', id: 'seoFileName', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:445 🏷️ 키워드 클릭됨: 외관
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm keyword-btn me-1 mb-1 btn-success', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'keyword-suggestions', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:445 🏷️ 키워드 클릭됨: 내부
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm keyword-btn me-1 mb-1 btn-success', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'keyword-suggestions', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:445 🏷️ 키워드 클릭됨: 환경
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm keyword-btn me-1 mb-1 btn-success', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:445 🏷️ 키워드 클릭됨: 시설
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm keyword-btn me-1 mb-1 btn-success', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:1096 🔄 이미지 크롭 중: 1/1
facility-image-cropper.js:1128 ✅ 이미지 크롭 완료: 1 {altText: '', fileName: '', hasCustomSettings: false}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-success loading', id: 'cropCurrentBtn', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'd-flex justify-content-between align-items-center', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'd-flex justify-content-between align-items-center', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:1143 🎉 모든 이미지 크롭 완료 - 압축 단계로 이동
facility-image-cropper.js:2170 🔄 압축 단계로 돌아가기
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'step-circle', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'card-body p-4', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'card-body p-4', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'card-body p-4', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'card-body p-4', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'MAIN', className: 'flex-grow-1', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'MAIN', className: 'flex-grow-1', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}

facility-image-cropper.js:493 Uncaught TypeError: Cannot read properties of null (reading 'textContent')
at facility-image-cropper.js:493:74
(anonymous)	@	facility-image-cropper.js:493
setTimeout		
handleKeywordClick	@	facility-image-cropper.js:491
(anonymous)	@	facility-image-cropper.js:423

시설이미지 폴더에서 선택 클릭하면 폴더가 비어있다고 표시되지만 무시하고 선택하면 어두운화면으로 선택창이 뜨지만 클릭은 되지않음
📦 SmartScrollUtility 모듈 로드 완료
facility-image-cropper.js:2856 📋 facility-image-cropper.js 로드 완료 - 폴더 선택 및 관리 기능 포함
facility-image-manage.js:6 🛠️ 시설 이미지 관리 스크립트 로드됨
facility-image-manage.js:621 ✅ 시설 이미지 관리 스크립트 로드 완료
facility-image-manage.js:622 🧪 디버깅: window.facilityImageDebug 객체를 사용하여 테스트 가능
facility-image-manage.js:623 📖 사용 가능한 디버깅 명령:
facility-image-manage.js:624   - facilityImageDebug.checkDropdowns() : 드롭다운 상태 확인
facility-image-manage.js:625   - facilityImageDebug.checkManageSection() : 관리 섹션 상태 확인
facility-image-manage.js:626   - facilityImageDebug.forceDropdownOpen(0) : 첫 번째 드롭다운 강제 열기
facility-image-manage.js:627   - facilityImageDebug.simulateClick("[data-bs-toggle=dropdown]") : 클릭 시뮬레이션
facility-image-manage.js:628   - facilityImageDebug.checkAllEvents() : 테스트 요소 생성
facility-image-manage.js:629   - facilityImageDebug.checkHTMLStructure() : HTML 구조 상세 분석
facility-image-manage.js:630   - facilityImageDebug.findNullButtons() : null ID 버튼 찾기
1:675 🎨 시설 이미지 크롭퍼 페이지 로드 완료
1:676 📚 facility-image-cropper.js가 메인 로직을 처리합니다.
1:677 🛠️ facility-image-manage.js가 관리 기능을 처리합니다.
facility-image-cropper.js:25 🎬 시설 이미지 크롭퍼 초기화 시작 (프로필 방식 완전 적용)
facility-image-cropper.js:30 🏢 시설 ID: 1
facility-image-cropper.js:89 🔍 브라우저 이미지 포맷 지원 확인
facility-image-cropper.js:103 📊 포맷 지원 현황: {avif: false, webp: true}
facility-image-cropper.js:112 ⚠️ AVIF 미지원으로 옵션 숨김
facility-image-cropper.js:129 🔍 DOM 요소 초기화 시작
facility-image-cropper.js:184 ✅ DOM 요소 초기화 완료
facility-image-cropper.js:189 🔗 이벤트 리스너 설정 시작
facility-image-cropper.js:195 📁 파일 입력 이벤트 리스너 등록됨
facility-image-cropper.js:228 ✅ 파일 선택 버튼 이벤트 등록 완료 (캡처링 모드)
facility-image-cropper.js:260 ✅ 폴더 선택 버튼 이벤트 등록 완료 (캡처링 모드)
facility-image-cropper.js:411 ⚙️ 압축 컨트롤 설정 완료
facility-image-cropper.js:416 🔍 SEO 최적화 기능 설정 시작
facility-image-cropper.js:440 ✅ SEO 기능 설정 완료 - 키워드 버튼 5개 등록됨
facility-image-cropper.js:1927 ⌨️ 키보드 단축키 설정 완료
facility-image-cropper.js:366 ✅ 이벤트 리스너 설정 완료
facility-image-cropper.js:1790 🎯 드래그 앤 드롭 설정 완료
facility-image-cropper.js:38 ✅ 시설 이미지 크롭퍼 초기화 완료
facility-image-manage.js:14 📋 시설 이미지 관리 초기화 시작
facility-image-manage.js:19 🏢 시설 ID: 1
facility-image-manage.js:22 🌐 브라우저 환경: {userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb…KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', bootstrap: undefined, jquery: '3.7.0'}
facility-image-manage.js:34 🔧 이미지 관리 기능 초기화
facility-image-manage.js:47 🌐 전역 함수 설정 시작
facility-image-manage.js:224 ✅ 전역 함수 설정 완료
facility-image-manage.js:229 🎯 이벤트 위임 설정
facility-image-manage.js:368 ✅ 이벤트 위임 설정 완료 (상세 로그 포함)
facility-image-manage.js:42 ✅ 이미지 관리 기능 초기화 완료
contentScript.bundle.js:347 Strategy 4: No clear indicators found, assuming All tab
facility-image-cropper.js:44 🔍 버튼 상태 확인: {fileBtn: true, folderBtn: true, fileHandlers: null, folderHandlers: null}
facility-image-manage.js:573 🔍 페이지 로드 완료 후 상태 점검:
facility-image-manage.js:579 📋 DOM 요소 상태: {manageSection: true, manageSectionVisible: false, manageGrid: true, manageGridContent: 224}
facility-image-manage.js:591 📋 버튼 요소 상태: {dropdownToggles: 4, setMainButtons: 0, deleteButtons: 0}
facility-image-manage.js:602 드롭다운 1 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …><a class="dropdown-item" href="/review">시설 리뷰...', bootstrapInstance: null}
facility-image-manage.js:602 드롭다운 2 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …i><a class="dropdown-item" href="/job?type=sea...', bootstrapInstance: null}
facility-image-manage.js:602 드롭다운 3 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …i><a class="dropdown-item" href="/board?type=i...', bootstrapInstance: null}
facility-image-manage.js:602 드롭다운 4 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu dropdown-menu-end">\n     …();">내 정보</a></li>\n                           ...', bootstrapInstance: null}
facility-image-manage.js:611 📋 전역 함수 상태: {setMainImage: 'function', deleteImage: 'function', facilityImageDebug: 'object'}
facility-image-manage.js:617 ✅ 상태 점검 완료
facility-image-cropper.js:242 🎯 facility-image-cropper: 폴더 선택 버튼 클릭됨
facility-image-cropper.js:248 📂 폴더 입력 모드 활성화
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: '', id: 'folderInput', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:2614 📂 폴더 선택 이벤트 발생
facility-image-cropper.js:2622 📋 폴더에서 발견된 파일 수: 7개
facility-image-cropper.js:2634 🖼️ 이미지 파일 수: 7개
facility-image-cropper.js:2647 🎭 이미지 선택 모달 표시 (7개 파일)
facility-image-cropper.js:2683 ✅ 7개 이미지 카드 생성 완료