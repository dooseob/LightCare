2025-07-07 17:05:49.628 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:05:49.628 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1754198047 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] for JDBC transaction
2025-07-07 17:05:49.628 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1754198047 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] read-only
2025-07-07 17:05:49.628  INFO 560 --- [nio-8080-exec-5] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757c2062]
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c085c31]
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1754198047 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] will be managed by Spring
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 17:05:49.629  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c085c31] from current transaction
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:05:49.629 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 17:05:49.630 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 0
2025-07-07 17:05:49.630 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c085c31]
2025-07-07 17:05:49.630  INFO 560 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : ⚠️ 시설 메인 이미지 없음 - facilityId: 1
2025-07-07 17:05:49.630  INFO 560 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: null
2025-07-07 17:05:49.630 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c085c31]
2025-07-07 17:05:49.630 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c085c31]
2025-07-07 17:05:49.630 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c085c31]
2025-07-07 17:05:49.630 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:05:49.630 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1518612534 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1518612534 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1518612534 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getImagesByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1991203491 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1991203491 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:05:49.631  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 시작 - facilityId: 1
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e029b3]
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991203491 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:05:49.631 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getImagesByFacilityId          : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? ORDER BY image_order ASC, upload_date ASC
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getImagesByFacilityId          : ==> Parameters: 1(Long)
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757c2062]
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 17:05:49.632  INFO 560 --- [nio-8080-exec-5] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757c2062] from current transaction
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getImagesByFacilityId          : <==      Total: 0
2025-07-07 17:05:49.632 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e029b3]
2025-07-07 17:05:49.633  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 완료 - facilityId: 1, 이미지 수: 0
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e029b3]
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e029b3]
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e029b3]
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1991203491 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1991203491 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1991203491 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getMainImageByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1907969347 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:05:49.633 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1907969347 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 0
2025-07-07 17:05:49.634  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e75f76]
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757c2062]
2025-07-07 17:05:49.634  INFO 560 --- [nio-8080-exec-5] c.e.carelink.service.FacilityService     : ⚠️ 시설 메인 이미지 없음 - facilityId: 1
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1907969347 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:05:49.634  INFO 560 --- [nio-8080-exec-5] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: null
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757c2062]
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757c2062]
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@757c2062]
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1754198047 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424]
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:05:49.634 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1754198047 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424]
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1754198047 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] after transaction
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getImagesByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@323313200 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] for JDBC transaction
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@323313200 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] read-only
2025-07-07 17:05:49.635  INFO 560 --- [nio-8080-exec-5] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 시작 - facilityId: 1
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55972b2]
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 0
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e75f76]
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@323313200 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] will be managed by Spring
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e75f76]
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e75f76]
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getImagesByFacilityId          : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? ORDER BY image_order ASC, upload_date ASC
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e75f76]
2025-07-07 17:05:49.635 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:05:49.636 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1907969347 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:05:49.636 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getImagesByFacilityId          : ==> Parameters: 1(Long)
2025-07-07 17:05:49.636 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1907969347 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:05:49.636 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1907969347 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:05:49.636  INFO 560 --- [nio-8080-exec-7] c.e.c.c.FacilityImageApiController       : ✅ 시설 이미지 목록 조회 API 성공 - facilityId: 1, 총 0장, memberId: 1
2025-07-07 17:05:49.636 DEBUG 560 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{imageCount=0, images=[], mainImage=null, success=true, maxImages=5}]
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getImagesByFacilityId          : <==      Total: 0
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55972b2]
2025-07-07 17:05:49.637  INFO 560 --- [nio-8080-exec-5] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 완료 - facilityId: 1, 이미지 수: 0
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55972b2]
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55972b2]
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55972b2]
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@323313200 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424]
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 17:05:49.637 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@323313200 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424]
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@323313200 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] after transaction
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getMainImageByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@729463448 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] for JDBC transaction
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@729463448 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] read-only
2025-07-07 17:05:49.638  INFO 560 --- [nio-8080-exec-5] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657881a7]
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@729463448 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] will be managed by Spring
2025-07-07 17:05:49.638 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:05:49.639 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:05:49.639 DEBUG 560 --- [nio-8080-exec-5] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 0
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657881a7]
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657881a7]
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657881a7]
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657881a7]
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@729463448 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424]
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@729463448 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424]
2025-07-07 17:05:49.640 DEBUG 560 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@729463448 wrapping com.mysql.cj.jdbc.ConnectionImpl@3a747424] after transaction
2025-07-07 17:05:49.640  INFO 560 --- [nio-8080-exec-5] c.e.c.c.FacilityImageApiController       : ✅ 시설 이미지 목록 조회 API 성공 - facilityId: 1, 총 0장, memberId: 1
2025-07-07 17:05:49.641 DEBUG 560 --- [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 17:05:49.641 DEBUG 560 --- [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{imageCount=0, images=[], mainImage=null, success=true, maxImages=5}]
2025-07-07 17:05:49.641 DEBUG 560 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 17:06:09.732 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:06:09.732 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:06:09.732 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 17:06:39.737 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:06:39.737 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:06:39.737 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 17:07:09.753 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:07:09.753 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:07:09.753 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 17:07:39.042 DEBUG 560 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/facility/crop-images/save/1", parameters={multipart}
2025-07-07 17:07:39.109 DEBUG 560 --- [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityController#saveFacilityImage(Long, MultipartFile, String, String, String, String, HttpSession)
2025-07-07 17:07:39.112  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 🔥 시설 이미지 저장 시작 - facilityId: 1, 받은 파라미터들 확인
2025-07-07 17:07:39.113  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 📋 altText: '시설 1 시설 이미지 로비', format: 'webp', imageIndex: '0', customFileName: 'facility-1_0_nursing-home_rn5enj.png-로비'
2025-07-07 17:07:39.113  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 📁 파일 정보 - 이름: 'facility_1_0_facility-1-0-nursing.webp', 크기: 84427bytes, 타입: 'image/webp'
2025-07-07 17:07:39.113  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 👤 로그인 사용자: admin (role: ADMIN)
2025-07-07 17:07:39.113 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:07:39.113 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1275803582 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:07:39.114 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1275803582 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:07:39.114  INFO 560 --- [nio-8080-exec-8] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 17:07:39.114 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:07:39.114 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490ffd2f]
2025-07-07 17:07:39.114 DEBUG 560 --- [nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275803582 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:07:39.114 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 17:07:39.115 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 17:07:39.117 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 17:07:39.117 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490ffd2f]
2025-07-07 17:07:39.117 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 17:07:39.117  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:07:39.117 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490ffd2f] from current transaction
2025-07-07 17:07:39.118 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:07:39.118 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:07:39.119 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 0
2025-07-07 17:07:39.119 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490ffd2f]
2025-07-07 17:07:39.119  INFO 560 --- [nio-8080-exec-8] c.e.carelink.service.FacilityService     : ⚠️ 시설 메인 이미지 없음 - facilityId: 1
2025-07-07 17:07:39.119  INFO 560 --- [nio-8080-exec-8] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: null
2025-07-07 17:07:39.119 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490ffd2f]
2025-07-07 17:07:39.119 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490ffd2f]
2025-07-07 17:07:39.119 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490ffd2f]
2025-07-07 17:07:39.119 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:07:39.119 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1275803582 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.120 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1275803582 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.120 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1275803582 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:07:39.120  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 🖼️ 시설 이미지 저장 요청 - facilityId: 1, 형식: webp, 인덱스: 0, 크기: 84427 bytes
2025-07-07 17:07:39.120  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 🏷️ 시설 이미지 Alt 텍스트 설정: 시설 1 시설 이미지 로비
2025-07-07 17:07:39.120  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 📷 업로드된 이미지 형식: image/webp
2025-07-07 17:07:39.121  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 🚀 WebP 형식 감지 - 효율적 압축 적용됨
2025-07-07 17:07:39.121  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : 🔧 서비스 호출 전 - facilityId: 1, orderIndex: 0, altText: '시설 1 시설 이미지 로비', customFileName: 'facility-1_0_nursing-home_rn5enj.png-로비'
2025-07-07 17:07:39.121 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.saveSingleFacilityImage]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-07 17:07:39.121 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1274035296 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:07:39.121  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 📸 단일 시설 이미지 저장 시작 - facilityId: 1, order: 0, customFileName: 'facility-1_0_nursing-home_rn5enj.png-로비'
2025-07-07 17:07:39.121 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:07:39.121 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.121 DEBUG 560 --- [nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1274035296 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:07:39.121 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.countImagesByFacilityId        : ==>  Preparing: SELECT COUNT(*) FROM facility_images WHERE facility_id = ?
2025-07-07 17:07:39.122 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.countImagesByFacilityId        : ==> Parameters: 1(Long)
2025-07-07 17:07:39.123 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.countImagesByFacilityId        : <==      Total: 1
2025-07-07 17:07:39.123 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.124 DEBUG 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : ✅ 이미지 파일 검증 통과 - 파일명: facility_1_0_facility-1-0-nursing.webp, 크기: 82KB, 타입: image/webp
2025-07-07 17:07:39.130  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 📝 사용자 지정 파일명 적용: 'facility-1_0_nursing-home_rn5enj.png-로비' → 'facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비'
2025-07-07 17:07:39.132  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 시설 이미지 파일 저장 완료: C:\carelink-uploads\facility\facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
2025-07-07 17:07:39.132 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da] from current transaction
2025-07-07 17:07:39.132 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.insertFacilityImage            : ==>  Preparing: INSERT INTO facility_images ( facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date ) VALUES ( ?, ?, ?, ?, ?, NOW() )
2025-07-07 17:07:39.133 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.insertFacilityImage            : ==> Parameters: 1(Long), /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비(String), 시설 1 시설 이미지 로비(String), 0(Integer), true(Boolean)
2025-07-07 17:07:39.137 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.insertFacilityImage            : <==    Updates: 1
2025-07-07 17:07:39.139 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.139  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : ✅ facility_images 테이블에 저장 완료 - imageId: 1, path: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비, 현재 총 1장
2025-07-07 17:07:39.139 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da] from current transaction
2025-07-07 17:07:39.139 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.countImagesByFacilityId        : ==>  Preparing: SELECT COUNT(*) FROM facility_images WHERE facility_id = ?
2025-07-07 17:07:39.140 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.countImagesByFacilityId        : ==> Parameters: 1(Long)
2025-07-07 17:07:39.140 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.countImagesByFacilityId        : <==      Total: 1
2025-07-07 17:07:39.141 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.141 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da] from current transaction
2025-07-07 17:07:39.141 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:07:39.141 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:07:39.142 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 17:07:39.143 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.143  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 🔄 시설 테이블 메인 이미지 정보 업데이트 시작 - facilityId: 1, imageCount: 1, mainImagePath: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
2025-07-07 17:07:39.143 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da] from current transaction
2025-07-07 17:07:39.143 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.updateFacilityMainImage        : ==>  Preparing: UPDATE facility SET facility_image = ?, image_count = ?, updated_at = NOW() WHERE facility_id = ?
2025-07-07 17:07:39.144 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.updateFacilityMainImage        : ==> Parameters: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비(String), 1(Integer), 1(Long)
2025-07-07 17:07:39.145 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.updateFacilityMainImage        : <==    Updates: 1
2025-07-07 17:07:39.146 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.146  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : ✅ 시설 테이블 업데이트 성공 - facilityId: 1, 업데이트된 행: 1
2025-07-07 17:07:39.146 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.146 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.146 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3378a9da]
2025-07-07 17:07:39.146 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:07:39.146 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1274035296 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.148 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1274035296 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:07:39.148  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : ✅ 서비스 호출 완료 - 저장된 이미지ID: 1, 경로: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
2025-07-07 17:07:39.148  INFO 560 --- [nio-8080-exec-8] c.e.c.controller.FacilityController      : ✅ 시설 이미지 저장 성공: facilityId=1, imageId=1
2025-07-07 17:07:39.149 DEBUG 560 --- [nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 17:07:39.149 DEBUG 560 --- [nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [{facilityId=1, imageId=1, success=true, imagePath=/uploads/facility/facility_1_0_facility-one_0_nurs (truncated)...]
2025-07-07 17:07:39.150 DEBUG 560 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 17:07:39.156 DEBUG 560 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/facility/facility-images/1", parameters={}
2025-07-07 17:07:39.156 DEBUG 560 --- [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityImageApiController#getFacilityImages(Long, HttpSession)
2025-07-07 17:07:39.157  INFO 560 --- [nio-8080-exec-8] c.e.c.c.FacilityImageApiController       : 📋 시설 이미지 목록 조회 API 요청 - facilityId: 1
2025-07-07 17:07:39.157 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:07:39.157 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@2142259960 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:07:39.157 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@2142259960 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:07:39.157  INFO 560 --- [nio-8080-exec-8] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 17:07:39.158 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:07:39.158 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0a90ab]
2025-07-07 17:07:39.158 DEBUG 560 --- [nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2142259960 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:07:39.158 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 17:07:39.158 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 17:07:39.160 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 17:07:39.160 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0a90ab]
2025-07-07 17:07:39.160 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 17:07:39.160  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:07:39.160 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0a90ab] from current transaction
2025-07-07 17:07:39.160 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:07:39.161 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:07:39.162 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 17:07:39.162 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0a90ab]
2025-07-07 17:07:39.162  INFO 560 --- [nio-8080-exec-8] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
2025-07-07 17:07:39.162  INFO 560 --- [nio-8080-exec-8] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
2025-07-07 17:07:39.162 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0a90ab]
2025-07-07 17:07:39.162 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0a90ab]
2025-07-07 17:07:39.162 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0a90ab]
2025-07-07 17:07:39.162 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:07:39.162 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@2142259960 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.163 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@2142259960 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.163 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@2142259960 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:07:39.163 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getImagesByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:07:39.163 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1439808978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:07:39.163 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1439808978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:07:39.163  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 시작 - facilityId: 1
2025-07-07 17:07:39.164 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:07:39.164 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328e8f49]
2025-07-07 17:07:39.164 DEBUG 560 --- [nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1439808978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:07:39.164 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getImagesByFacilityId          : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? ORDER BY image_order ASC, upload_date ASC
2025-07-07 17:07:39.164 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getImagesByFacilityId          : ==> Parameters: 1(Long)
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getImagesByFacilityId          : <==      Total: 1
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328e8f49]
2025-07-07 17:07:39.166  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 완료 - facilityId: 1, 이미지 수: 1
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328e8f49]
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328e8f49]
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328e8f49]
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1439808978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.166 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1439808978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1439808978 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getMainImageByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1142290152 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1142290152 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:07:39.167  INFO 560 --- [nio-8080-exec-8] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7dde4]
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1142290152 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:07:39.167 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:07:39.168 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:07:39.169 DEBUG 560 --- [nio-8080-exec-8] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 17:07:39.169 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7dde4]
2025-07-07 17:07:39.170 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7dde4]
2025-07-07 17:07:39.170 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7dde4]
2025-07-07 17:07:39.170 DEBUG 560 --- [nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7dde4]
2025-07-07 17:07:39.170 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:07:39.170 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1142290152 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.170 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1142290152 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:07:39.171 DEBUG 560 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1142290152 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:07:39.171  INFO 560 --- [nio-8080-exec-8] c.e.c.c.FacilityImageApiController       : ✅ 시설 이미지 목록 조회 API 성공 - facilityId: 1, 총 1장, memberId: 1
2025-07-07 17:07:39.171 DEBUG 560 --- [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 17:07:39.178 DEBUG 560 --- [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{imageCount=1, images=[FacilityImageDTO(imageId=1, facilityId=1, imagePath=/uploads/facility/facilit (truncated)...]
2025-07-07 17:07:39.180 DEBUG 560 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 17:07:39.199 DEBUG 560 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-%EB%A1%9C%EB%B9%84", parameters={}
2025-07-07 17:07:39.200 DEBUG 560 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [URL [file:C:/carelink-uploads/facility/]]
2025-07-07 17:07:39.213 DEBUG 560 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 17:07:39.756 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:07:39.756 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:07:39.757 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 17:08:01.085 DEBUG 560 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/facility/facility-images/1", parameters={}
2025-07-07 17:08:01.086 DEBUG 560 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityImageApiController#getFacilityImages(Long, HttpSession)
2025-07-07 17:08:01.086  INFO 560 --- [nio-8080-exec-7] c.e.c.c.FacilityImageApiController       : 📋 시설 이미지 목록 조회 API 요청 - facilityId: 1
2025-07-07 17:08:01.086 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:08:01.086 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@2098796931 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:08:01.086 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@2098796931 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:08:01.087  INFO 560 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 17:08:01.087 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:08:01.087 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bde5b9]
2025-07-07 17:08:01.087 DEBUG 560 --- [nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098796931 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:08:01.087 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 17:08:01.087 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 17:08:01.088 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 17:08:01.088 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bde5b9]
2025-07-07 17:08:01.088 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 17:08:01.088  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:08:01.088 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bde5b9] from current transaction
2025-07-07 17:08:01.088 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:08:01.088 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bde5b9]
2025-07-07 17:08:01.089  INFO 560 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
2025-07-07 17:08:01.089  INFO 560 --- [nio-8080-exec-7] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bde5b9]
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bde5b9]
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45bde5b9]
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@2098796931 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:08:01.089 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@2098796931 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@2098796931 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getImagesByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@295222157 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@295222157 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:08:01.090  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 시작 - facilityId: 1
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b442f05]
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@295222157 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getImagesByFacilityId          : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? ORDER BY image_order ASC, upload_date ASC
2025-07-07 17:08:01.090 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getImagesByFacilityId          : ==> Parameters: 1(Long)
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getImagesByFacilityId          : <==      Total: 1
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b442f05]
2025-07-07 17:08:01.091  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 완료 - facilityId: 1, 이미지 수: 1
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b442f05]
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b442f05]
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b442f05]
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@295222157 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@295222157 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:08:01.091 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@295222157 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getMainImageByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@741211036 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] for JDBC transaction
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@741211036 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] read-only
2025-07-07 17:08:01.092  INFO 560 --- [nio-8080-exec-7] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46fbc51b]
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@741211036 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] will be managed by Spring
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 17:08:01.092 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46fbc51b]
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46fbc51b]
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46fbc51b]
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46fbc51b]
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@741211036 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@741211036 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a]
2025-07-07 17:08:01.093 DEBUG 560 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@741211036 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a78a25a] after transaction
2025-07-07 17:08:01.094  INFO 560 --- [nio-8080-exec-7] c.e.c.c.FacilityImageApiController       : ✅ 시설 이미지 목록 조회 API 성공 - facilityId: 1, 총 1장, memberId: 1
2025-07-07 17:08:01.094 DEBUG 560 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 17:08:01.094 DEBUG 560 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{imageCount=1, images=[FacilityImageDTO(imageId=1, facilityId=1, imagePath=/uploads/facility/facilit (truncated)...]
2025-07-07 17:08:01.095 DEBUG 560 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 17:08:09.771 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:08:09.771 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:08:09.771 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 17:08:39.784 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:08:39.784 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 17:08:39.784 DEBUG 560 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.

📦 SmartScrollUtility 모듈 로드 완료
facility-image-cropper.js:3303 📋 facility-image-cropper.js 로드 완료 - 폴더 선택 및 관리 기능 포함
facility-image-manage.js:6 🛠️ 시설 이미지 관리 스크립트 로드됨
facility-image-manage.js:699 ✅ 시설 이미지 관리 스크립트 로드 완료
facility-image-manage.js:700 🧪 디버깅: window.facilityImageDebug 객체를 사용하여 테스트 가능
facility-image-manage.js:701 📖 사용 가능한 디버깅 명령:
facility-image-manage.js:702   - facilityImageDebug.checkDropdowns() : 드롭다운 상태 확인
facility-image-manage.js:703   - facilityImageDebug.checkManageSection() : 관리 섹션 상태 확인
facility-image-manage.js:704   - facilityImageDebug.forceDropdownOpen(0) : 첫 번째 드롭다운 강제 열기
facility-image-manage.js:705   - facilityImageDebug.simulateClick("[data-bs-toggle=dropdown]") : 클릭 시뮬레이션
facility-image-manage.js:706   - facilityImageDebug.checkAllEvents() : 테스트 요소 생성
facility-image-manage.js:707   - facilityImageDebug.checkHTMLStructure() : HTML 구조 상세 분석
facility-image-manage.js:708   - facilityImageDebug.findNullButtons() : null ID 버튼 찾기
facility-folder-selection.js:6 📂 시설 폴더 선택 스크립트 로드됨
facility-folder-selection.js:748 ✅ 시설 폴더 선택 스크립트 로드 완료
facility-folder-selection.js:749 🧪 디버깅: window.folderSelectionDebug 객체 사용 가능
VM178 facility-image-step3-manage.js:7 🎯 시설 이미지 3단계 관리 스크립트 로드됨
VM178 facility-image-step3-manage.js:480 ✅ 시설 이미지 3단계 관리 스크립트 로드 완료
VM178 facility-image-step3-manage.js:481 🧪 디버깅: window.facilityImageStep3Debug 객체 사용 가능
1:731 🎨 시설 이미지 크롭퍼 페이지 로드 완료
1:732 📚 facility-image-cropper.js가 메인 로직을 처리합니다.
1:733 🛠️ facility-image-manage.js가 관리 기능을 처리합니다.
1:734 📂 facility-folder-selection.js가 폴더 선택을 처리합니다.
1:735 ⚙️ facility-image-step3-manage.js가 3단계 관리를 처리합니다.
facility-image-step1-load.js:6 🎯 시설 이미지 1단계 로드 스크립트 로드됨
facility-image-step1-load.js:774 ✅ 시설 이미지 1단계 스크립트 완전 로드됨
facility-image-seo-keywords.js:6 🎯 시설 이미지 SEO 키워드 관리 스크립트 로드됨
facility-image-seo-keywords.js:411 ✅ 시설 이미지 SEO 키워드 관리 스크립트 완전 로드됨
facility-image-seo-keywords.js:412 📋 사용 가능한 키워드 카테고리: 11 개
facility-image-seo-keywords.js:413 🏷️ 총 키워드 수: 60 개
facility-image-step3-manage.js:7 🎯 시설 이미지 3단계 관리 스크립트 로드됨
facility-image-step3-manage.js:480 ✅ 시설 이미지 3단계 관리 스크립트 로드 완료
facility-image-step3-manage.js:481 🧪 디버깅: window.facilityImageStep3Debug 객체 사용 가능
facility-image-cropper.js:25 🎬 시설 이미지 크롭퍼 초기화 시작 (프로필 방식 완전 적용)
facility-image-cropper.js:30 🏢 시설 ID: 1
facility-image-cropper.js:89 🔍 브라우저 이미지 포맷 지원 확인
facility-image-cropper.js:103 📊 포맷 지원 현황: {avif: false, webp: true}
facility-image-cropper.js:112 ⚠️ AVIF 미지원으로 옵션 숨김
facility-image-cropper.js:129 🔍 DOM 요소 초기화 시작
facility-image-cropper.js:184 ✅ DOM 요소 초기화 완료
facility-image-cropper.js:189 🔗 이벤트 리스너 설정 시작
facility-image-cropper.js:195 📁 파일 입력 이벤트 리스너 등록됨
facility-image-cropper.js:204 🔧 통합 이미지 불러오기 버튼 이벤트 설정 시작
facility-image-cropper.js:215 ✅ 메인 이미지 불러오기 버튼 이벤트 등록 완료
facility-image-cropper.js:238 📂 통합된 이미지 불러오기 기능 설정 완료
facility-image-cropper.js:476 ⚙️ 압축 컨트롤 설정 완료
facility-image-cropper.js:511 🔍 SEO 최적화 기능 설정 시작
facility-image-cropper.js:535 ✅ SEO 기능 설정 완료 - 키워드 버튼 5개 등록됨
facility-image-cropper.js:2553 ⌨️ 키보드 단축키 설정 완료
facility-image-cropper.js:431 ✅ 이벤트 리스너 설정 완료
facility-image-step1-load.js:122 🎯 드래그 앤 드롭 설정
facility-image-manage.js:14 📋 시설 이미지 관리 초기화 시작
facility-image-manage.js:19 🏢 시설 ID: 1
facility-image-manage.js:22 🌐 브라우저 환경: {userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb…KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', bootstrap: undefined, jquery: '3.7.0'}
facility-image-manage.js:34 🔧 이미지 관리 기능 초기화
facility-image-manage.js:47 🌐 전역 함수 설정 시작
facility-image-manage.js:224 ✅ 전역 함수 설정 완료
facility-image-manage.js:229 🎯 이벤트 위임 설정
facility-image-manage.js:367 ✅ 이벤트 위임 설정 완료 (상세 로그 포함)
facility-image-manage.js:42 ✅ 이미지 관리 기능 초기화 완료
facility-folder-selection.js:18 📂 폴더 선택 모듈 초기화 시작
facility-folder-selection.js:29 📂 폴더 선택 DOM 요소 확인: {folderSelectBtn: false, folderInput: true, imageSelectionModal: true, modalImageGrid: true, confirmImageSelection: true}
facility-folder-selection.js:42 ⚠️ 폴더 선택 버튼이 없어서 초기화하지 않음
(anonymous) @ facility-folder-selection.js:42Understand this warning
VM178 facility-image-step3-manage.js:18 🔧 시설 이미지 3단계 관리 초기화 시작
VM178 facility-image-step3-manage.js:27 📋 3단계 DOM 요소 확인: {manageImagesGrid: true, finalCompleteBtn: true, backToCropBtn: true}
facility-image-step3-manage.js:61 🏢 추출된 시설 ID: 1
facility-image-step3-manage.js:71 🔧 3단계 관리 기능 초기화
facility-image-step3-manage.js:89 🌐 3단계 전용 전역 함수 설정
facility-image-step3-manage.js:133 ✅ 3단계 전용 전역 함수 설정 완료
facility-image-step3-manage.js:260 🎯 3단계 이벤트 위임 설정
facility-image-step3-manage.js:325 ✅ 3단계 이벤트 위임 설정 완료
facility-image-step3-manage.js:379 📋 기존 이미지 목록 로드
facility-image-step3-manage.js:84 ✅ 3단계 관리 기능 초기화 완료
VM178 facility-image-step3-manage.js:39 ✅ 시설 이미지 3단계 관리 초기화 완료
facility-image-step1-load.js:20 🔧 시설 이미지 1단계 초기화 시작
facility-image-step1-load.js:36 📋 1단계 DOM 요소 확인: {imageLoadBtn: true, fileSelectOption: true, folderSelectOption: true, imageInput: true, folderInput: true, …}
facility-image-step1-load.js:60 🔧 1단계 이미지 로드 기능 초기화
facility-image-step1-load.js:122 🎯 드래그 앤 드롭 설정
facility-image-step1-load.js:117 ✅ 1단계 이미지 로드 기능 초기화 완료
facility-image-step1-load.js:52 ✅ 시설 이미지 1단계 초기화 완료
facility-image-step3-manage.js:18 🔧 시설 이미지 3단계 관리 초기화 시작
facility-image-step3-manage.js:27 📋 3단계 DOM 요소 확인: {manageImagesGrid: true, finalCompleteBtn: true, backToCropBtn: true}
facility-image-step3-manage.js:61 🏢 추출된 시설 ID: 1
facility-image-step3-manage.js:71 🔧 3단계 관리 기능 초기화
facility-image-step3-manage.js:89 🌐 3단계 전용 전역 함수 설정
facility-image-step3-manage.js:133 ✅ 3단계 전용 전역 함수 설정 완료
facility-image-step3-manage.js:260 🎯 3단계 이벤트 위임 설정
facility-image-step3-manage.js:325 ✅ 3단계 이벤트 위임 설정 완료
facility-image-step3-manage.js:379 📋 기존 이미지 목록 로드
facility-image-step3-manage.js:84 ✅ 3단계 관리 기능 초기화 완료
facility-image-step3-manage.js:39 ✅ 시설 이미지 3단계 관리 초기화 완료
contentScript.bundle.js:347 Strategy 4: No clear indicators found, assuming All tab
2facility-image-step3-manage.js:391 ✅ 기존 이미지 로드 완료: 0개
facility-image-manage.js:651 🔍 페이지 로드 완료 후 상태 점검:
facility-image-manage.js:657 📋 DOM 요소 상태: {manageSection: true, manageSectionVisible: false, manageGrid: true, manageGridContent: 224}
facility-image-manage.js:669 📋 버튼 요소 상태: {dropdownToggles: 5, setMainButtons: 0, deleteButtons: 0}
facility-image-manage.js:680 드롭다운 1 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …><a class="dropdown-item" href="/review">시설 리뷰...', bootstrapInstance: null}
facility-image-manage.js:680 드롭다운 2 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …i><a class="dropdown-item" href="/job?type=sea...', bootstrapInstance: null}
facility-image-manage.js:680 드롭다운 3 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …i><a class="dropdown-item" href="/board?type=i...', bootstrapInstance: null}
facility-image-manage.js:680 드롭다운 4 상태: {toggle: a.nav-link.dropdown-toggle, hasMenu: true, menuHTML: '<ul class="dropdown-menu dropdown-menu-end">\n     …();">내 정보</a></li>\n                           ...', bootstrapInstance: null}
facility-image-manage.js:680 드롭다운 5 상태: {toggle: button.btn.btn-primary.btn-lg.dropdown-toggle.dropdown-toggle-split, hasMenu: true, menuHTML: '<ul class="dropdown-menu">\n                       …m" href="#" id="fileSelectOption">\n           ...', bootstrapInstance: null}
facility-image-manage.js:689 📋 전역 함수 상태: {setMainImage: 'function', deleteImage: 'function', facilityImageDebug: 'object'}
facility-image-manage.js:695 ✅ 상태 점검 완료
facility-image-cropper.js:208 🎯 이미지 불러오기 버튼 클릭 - 파일 선택 모드
facility-image-cropper.js:256 📂 파일 입력 설정: {multiple: true, webkitdirectory: false, accept: 'image/*', value: ''}
facility-image-step1-load.js:65 📁 기본 이미지 불러오기 버튼 클릭
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: '', id: 'imageInput', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: '', id: 'imageInput', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:267 ✅ 파일 대화상자 열기 성공
facility-image-cropper.js:979 📁 다중 파일 업로드 이벤트 발생
facility-image-cropper.js:987 📸 선택된 파일 수: 1
facility-image-cropper.js:1144 🔍 파일 검증: 행복요양원.png
facility-image-cropper.js:1161 📦 파일 크기: 행복요양원.png (2.26MB) - 제한 없음
facility-image-cropper.js:1163 ✅ 파일 검증 통과: 행복요양원.png
facility-image-cropper.js:1171 🔄 1개 파일 순차 처리 시작
facility-image-cropper.js:1174 📸 파일 처리 중: 행복요양원.png (1/1)
facility-image-step1-load.js:91 📁 파일 선택됨: 1 개
facility-image-step1-load.js:165 📁 파일 선택 처리 시작: 파일 선택 1 개
facility-image-step1-load.js:179 🖼️ 이미지 파일 필터링: 1 개
facility-image-step1-load.js:226 🖼️ 이미지 미리보기 생성 시작: 1 개
facility-image-step1-load.js:261 ✅ 이미지 미리보기 생성 완료
facility-image-step1-load.js:221 ✅ 파일 선택 처리 완료: 1 개 선택됨
facility-image-cropper.js:693 🏢 시설명 가져오기 시도
facility-image-cropper.js:706 🔍 시설 ID로 시설명 조회 시도: 1
facility-image-cropper.js:768 ⚠️ 시설명을 찾을 수 없어 기본값 사용: 시설 1
facility-image-cropper.js:940 🔤 파일명 영문 변환 시작: 행복요양원.png
facility-image-cropper.js:964 ✅ 변환된 파일명: 행복요양원.png => facility-1_0_nursing-home_rn5enj.png
facility-image-cropper.js:774 📝 자동 알트 텍스트 생성: {fileName: '행복요양원.png', facilityName: '시설 1'}
facility-image-cropper.js:849 ✅ 생성된 알트 텍스트: 시설 1 시설 이미지
facility-image-cropper.js:1183 🔤 파일 처리: {original: '행복요양원.png', converted: 'facility-1_0_nursing-home_rn5enj.png', altText: '시설 1 시설 이미지'}
facility-image-cropper.js:1208 ✅ 이미지 로드 완료: 행복요양원.png (1/1)
facility-image-cropper.js:1212 🎉 모든 이미지 로드 완료 - 크롭 단계로 이동
facility-image-cropper.js:1236 🖼️ 크롭퍼에 이미지 로드: 행복요양원.png
facility-image-cropper.js:1261 🔄 이미지 전환: 1/1 - 행복요양원.png
facility-image-cropper.js:1310 🔄 이미지 설정 복원 중: 행복요양원.png
facility-image-cropper.js:1332 🔤 파일명 복원: {custom: 'facility-1_0_nursing-home_rn5enj.png', converted: 'facility-1_0_nursing-home_rn5enj.png', final: 'facility-1_0_nursing-home_rn5enj.png', used: 'facility-1_0_nursing-home_rn5enj.png'}
facility-image-cropper.js:1359 ✅ 이미지 설정 복원 완료: {original: '행복요양원.png', converted: 'facility-1_0_nursing-home_rn5enj.png', altText: '시설 1 시설 이미지', fileName: 'facility-1_0_nursing-home_rn5enj.png'}
facility-image-step1-load.js:697 📊 단계 표시기 업데이트: 2
facility-image-cropper.js:1246 ✅ 이미지 로드 완료, 크롭퍼 초기화 시작
facility-image-cropper.js:1374 🔧 크롭퍼 초기화 - 16:9 비율 (프로필 방식)
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1416 ✅ 크롭퍼 준비 완료
facility-image-cropper.js:1417 📐 컨테이너 크기: {width: 438, height: 300}
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1451 🎯 setupSmartScroll: 컨테이너 찾음 crop-image-container
facility-image-cropper.js:1457 🖱️ 스마트 스크롤 기능 활성화
facility-image-cropper.js:1545 ✅ 시설 크롭퍼 스마트 스크롤 이벤트 등록 완료
facility-image-cropper.js:1546 🎯 이벤트 대상 컨테이너: crop-image-container DIV
facility-image-cropper.js:1547 📏 현재 컨테이너 크기: 438 x 300
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1471 🔍 현재 줌: 0.14 방향: 축소
facility-image-cropper.js:1519 🚫 최소 축소 완전 차단 - 줌 기능 무력화
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1621 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1635 ✅ 미리보기 업데이트 완료
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'DIV', className: 'cropper-drag-box cropper-move cropper-modal', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:584 🏷️ 키워드 클릭됨: 로비
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm keyword-btn me-1 mb-1 btn-success', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:1654 🔄 이미지 크롭 중: 1/1
facility-image-cropper.js:1686 ✅ 이미지 크롭 완료: 1 {altText: '시설 1 시설 이미지 로비', fileName: 'facility-1_0_nursing-home_rn5enj.png-로비', hasCustomSettings: true}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-success loading', id: 'cropCurrentBtn', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:1701 🎉 모든 이미지 크롭 완료 - 관리 단계로 이동
facility-image-cropper.js:2626 🔄 모든 이미지 저장 시작...
facility-image-cropper.js:2660 📊 저장할 이미지 수: 1장 (크롭된 이미지: 1장, 원본 이미지: 0장)
facility-image-cropper.js:2727 📝 사용자 지정 파일명 적용: "facility-1_0_nursing-home_rn5enj.png-로비" → "facility_1_0_facility-1-0-nursing.webp"
facility-image-cropper.js:2745 📤 이미지 1 업로드 중... (원본 인덱스: 0)
facility-image-cropper.js:2757 ✅ 이미지 1 저장 성공 (ID: 1)
facility-image-cropper.js:2769 🎉 모든 이미지 저장 완료: 1/1장
facility-image-cropper.js:2781 🔄 이미지 관리 단계로 이동
facility-image-cropper.js:2786 🛠️ 관리 단계 표시 완료
facility-image-step1-load.js:697 📊 단계 표시기 업데이트: 4
facility-image-cropper.js:2850 🔄 관리 이미지 그리드 업데이트 시작
facility-image-cropper.js:2876 📋 서버 응답 데이터: {imageCount: 1, images: Array(1), mainImage: {…}, success: true, maxImages: 5}
facility-image-cropper.js:2883 📋 서버에서 가져온 이미지 수: 1개
facility-image-cropper.js:2889 🔍 원본 이미지 데이터: [{…}]
facility-image-cropper.js:2902 이미지 0: ID=1, Path=/uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비, Key=1_/uploads/facility/facility_1_0_facility-one_0_nursing-home_rn_170bb391.png-로비
facility-image-cropper.js:2908 ✅ 유니크 이미지 추가: 1
facility-image-cropper.js:2914 🔧 중복 제거 후 유니크 이미지 수: 1개 (원본: 1개)
facility-image-cropper.js:3065 ✅ 관리 이미지 그리드 업데이트 완료
facility-image-cropper.js:3004 🔧 Bootstrap 드롭다운 초기화 시작: {dropdownCount: 1, bootstrapAvailable: true, bootstrapVersion: 'unknown'}
facility-image-cropper.js:3014 ✅ 드롭다운 1 초기화 성공: {element: button.btn.btn-sm.btn-light.dropdown-toggle, instance: ci, menu: ul.dropdown-menu.dropdown-menu-end}
facility-image-cropper.js:3027 🔧 Bootstrap 드롭다운 초기화 완료: 1개
facility-image-cropper.js:3030 🔍 생성된 HTML 구조 검증:
facility-image-cropper.js:3037 이미지 카드 1: {imageId: '1', hasSetMainBtn: false, hasDeleteBtn: true, setMainImageId: 'null', deleteImageId: '1'}
facility-image-cropper.js:3037 이미지 카드 2: {imageId: '1', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', closest_dropdown: true, closest_dropdown_toggle: true, …}
facility-image-manage.js:291 🔽 드롭다운 토글 클릭 감지
facility-image-manage.js:297 🔍 드롭다운 토글 요소: {element: button.btn.btn-sm.btn-light.dropdown-toggle.show, id: '', className: 'btn btn-sm btn-light dropdown-toggle show', hasBootstrap: true, hasDropdown: true}
facility-image-manage.js:372 🔐 모든 드롭다운 닫기
facility-image-manage.js:311 🔧 Bootstrap Dropdown API 사용
facility-image-manage.js:323 ✅ Bootstrap 드롭다운 토글 성공
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', closest_dropdown: true, closest_dropdown_toggle: true, …}
facility-image-manage.js:291 🔽 드롭다운 토글 클릭 감지
facility-image-manage.js:297 🔍 드롭다운 토글 요소: {element: button.btn.btn-sm.btn-light.dropdown-toggle.show, id: '', className: 'btn btn-sm btn-light dropdown-toggle show', hasBootstrap: true, hasDropdown: true}
facility-image-manage.js:372 🔐 모든 드롭다운 닫기
facility-image-manage.js:311 🔧 Bootstrap Dropdown API 사용
facility-image-manage.js:323 ✅ Bootstrap 드롭다운 토글 성공
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}
facility-image-cropper.js:408 ✅ 최종 완료 버튼 클릭
facility-image-cropper.js:3088 🎯 최종 완료 처리 시작
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-success loading', id: 'finalCompleteBtn', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-success loading', id: 'finalCompleteBtn', dataImageId: null}
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-success loading', id: 'finalCompleteBtn', dataImageId: null}
facility-image-cropper.js:3106 ✅ 완료 단계 표시
facility-image-step1-load.js:697 📊 단계 표시기 업데이트: 5
facility-image-cropper.js:3129 📊 최종 요약 업데이트 시작
facility-image-cropper.js:3117 🎉 시설 이미지 등록 프로세스 완료!
facility-image-cropper.js:3224 ❌ 최종 요약 업데이트 오류: TypeError: images.find is not a function
at facility-image-cropper.js:3145:38
(anonymous) @ facility-image-cropper.js:3224
Promise.catch
updateFinalSummary @ facility-image-cropper.js:3223
(anonymous) @ facility-image-cropper.js:3111
setTimeout
finalComplete @ facility-image-cropper.js:3102
(anonymous) @ facility-image-cropper.js:409Understand this error

advanced-image-cropper.js:701 Uncaught SyntaxError: Unexpected identifier 'newZoom' (at advanced-image-cropper.js:701:19)Understand this error
facility-image-step1-load.js:125 Uncaught TypeError: Cannot read properties of undefined (reading 'addEventListener')
at setupDragAndDrop (facility-image-step1-load.js:125:16)
at HTMLDocument.<anonymous> (facility-image-cropper.js:36:5)
setupDragAndDrop @ facility-image-step1-load.js:125
(anonymous) @ facility-image-cropper.js:36Understand this error
facility-image-cropper.js:3224 ❌ 최종 요약 업데이트 오류: TypeError: images.find is not a function
at facility-image-cropper.js:3145:38
(anonymous) @ facility-image-cropper.js:3224
Promise.catch
updateFinalSummary @ facility-image-cropper.js:3223
(anonymous) @ facility-image-cropper.js:3111
setTimeout
finalComplete @ facility-image-cropper.js:3102
(anonymous) @ facility-image-cropper.js:409Understand this error

