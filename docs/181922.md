SmartScrollUtility 모듈 로드 완료
facility-image-cropper.js:3237 📋 facility-image-cropper.js 로드 완료 - 폴더 선택 및 관리 기능 포함
facility-image-manage.js:6 🛠️ 시설 이미지 관리 스크립트 로드됨
facility-image-manage.js:699 ✅ 시설 이미지 관리 스크립트 로드 완료
facility-image-manage.js:700 🧪 디버깅: window.facilityImageDebug 객체를 사용하여 테스트 가능
facility-image-manage.js:701 📖 사용 가능한 디버깅 명령:
facility-image-manage.js:702   - facilityImageDebug.checkDropdowns() : 드롭다운 상태 확인
facility-image-manage.js:703   - facilityImageDebug.checkManageSection() : 관리 섹션 상태 확인
facility-image-manage.js:704   - facilityImageDebug.forceDropdownOpen(0) : 첫 번째 드롭다운 강제 열기
facility-image-manage.js:705   - facilityImageDebug.simulateClick("[data-bs-toggle=dropdown]") : 클릭 시뮬레이션
facility-image-manage.js:706   - facilityImageDebug.checkAllEvents() : 테스트 요소 생성
facility-image-manage.js:707   - facilityImageDebug.checkHTMLStructure() : HTML 구조 상세 분석
facility-image-manage.js:708   - facilityImageDebug.findNullButtons() : null ID 버튼 찾기
facility-folder-selection.js:6 📂 시설 폴더 선택 스크립트 로드됨
facility-folder-selection.js:507 ✅ 시설 폴더 선택 스크립트 로드 완료
facility-folder-selection.js:508 🧪 디버깅: window.folderSelectionDebug 객체 사용 가능
facility-image-step3-manage.js:7 🎯 시설 이미지 3단계 관리 스크립트 로드됨
facility-image-step3-manage.js:480 ✅ 시설 이미지 3단계 관리 스크립트 로드 완료
facility-image-step3-manage.js:481 🧪 디버깅: window.facilityImageStep3Debug 객체 사용 가능
1:679 🎨 시설 이미지 크롭퍼 페이지 로드 완료
1:680 📚 facility-image-cropper.js가 메인 로직을 처리합니다.
1:681 🛠️ facility-image-manage.js가 관리 기능을 처리합니다.
1:682 📂 facility-folder-selection.js가 폴더 선택을 처리합니다.
1:683 ⚙️ facility-image-step3-manage.js가 3단계 관리를 처리합니다.
facility-image-cropper.js:25 🎬 시설 이미지 크롭퍼 초기화 시작 (프로필 방식 완전 적용)
facility-image-cropper.js:30 🏢 시설 ID: 1
facility-image-cropper.js:89 🔍 브라우저 이미지 포맷 지원 확인
facility-image-cropper.js:103 📊 포맷 지원 현황: Object
facility-image-cropper.js:112 ⚠️ AVIF 미지원으로 옵션 숨김
facility-image-cropper.js:129 🔍 DOM 요소 초기화 시작
facility-image-cropper.js:184 ✅ DOM 요소 초기화 완료
facility-image-cropper.js:189 🔗 이벤트 리스너 설정 시작
facility-image-cropper.js:195 📁 파일 입력 이벤트 리스너 등록됨
facility-image-cropper.js:201 🔧 파일 선택 버튼 이벤트 설정 시작
facility-image-cropper.js:247 ✅ 파일 선택 버튼 이벤트 등록 완료 (안전한 방식)
facility-image-cropper.js:253 📂 폴더 선택 기능은 별도 모듈에서 처리됩니다 (facility-folder-selection.js)
facility-image-cropper.js:410 ⚙️ 압축 컨트롤 설정 완료
facility-image-cropper.js:445 🔍 SEO 최적화 기능 설정 시작
facility-image-cropper.js:469 ✅ SEO 기능 설정 완료 - 키워드 버튼 5개 등록됨
facility-image-cropper.js:2487 ⌨️ 키보드 단축키 설정 완료
facility-image-cropper.js:365 ✅ 이벤트 리스너 설정 완료
facility-image-cropper.js:2350 🎯 드래그 앤 드롭 설정 완료
facility-image-cropper.js:38 ✅ 시설 이미지 크롭퍼 초기화 완료
facility-image-manage.js:14 📋 시설 이미지 관리 초기화 시작
facility-image-manage.js:19 🏢 시설 ID: 1
facility-image-manage.js:22 🌐 브라우저 환경: Object
facility-image-manage.js:34 🔧 이미지 관리 기능 초기화
facility-image-manage.js:47 🌐 전역 함수 설정 시작
facility-image-manage.js:224 ✅ 전역 함수 설정 완료
facility-image-manage.js:229 🎯 이벤트 위임 설정
facility-image-manage.js:367 ✅ 이벤트 위임 설정 완료 (상세 로그 포함)
facility-image-manage.js:42 ✅ 이미지 관리 기능 초기화 완료
facility-folder-selection.js:18 📂 폴더 선택 모듈 초기화 시작
facility-folder-selection.js:29 📂 폴더 선택 DOM 요소 확인: Object
facility-folder-selection.js:48 🔧 폴더 선택 기능 초기화
facility-folder-selection.js:75 ✅ 폴더 선택 버튼 이벤트 등록 성공
facility-folder-selection.js:80 ✅ 폴더 선택 기능 초기화 완료
facility-folder-selection.js:85 🔧 폴더 모달 설정
facility-folder-selection.js:105 🎯 모달 이벤트 설정
facility-folder-selection.js:132 ✅ 모달 이벤트 설정 완료
facility-folder-selection.js:100 ✅ 폴더 모달 설정 완료
facility-folder-selection.js:40 ✅ 폴더 선택 모듈 초기화 완료
facility-image-step3-manage.js:18 🔧 시설 이미지 3단계 관리 초기화 시작
facility-image-step3-manage.js:27 📋 3단계 DOM 요소 확인: Object
facility-image-step3-manage.js:61 🏢 추출된 시설 ID: 1
facility-image-step3-manage.js:71 🔧 3단계 관리 기능 초기화
facility-image-step3-manage.js:89 🌐 3단계 전용 전역 함수 설정
facility-image-step3-manage.js:133 ✅ 3단계 전용 전역 함수 설정 완료
facility-image-step3-manage.js:260 🎯 3단계 이벤트 위임 설정
facility-image-step3-manage.js:325 ✅ 3단계 이벤트 위임 설정 완료
facility-image-step3-manage.js:379 📋 기존 이미지 목록 로드
facility-image-step3-manage.js:84 ✅ 3단계 관리 기능 초기화 완료
facility-image-step3-manage.js:39 ✅ 시설 이미지 3단계 관리 초기화 완료
contentScript.bundle.js:347 Strategy 4: No clear indicators found, assuming All tab
facility-image-step3-manage.js:391 ✅ 기존 이미지 로드 완료: 3개
facility-image-cropper.js:44 🔍 버튼 상태 확인: Object
facility-image-cropper.js:209 🎯 파일 선택 버튼 클릭 - 안전한 처리 시작
facility-image-cropper.js:226 📂 파일 입력 설정: Object
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: Object
facility-image-cropper.js:237 ✅ 파일 대화상자 열기 성공
facility-image-manage.js:651 🔍 페이지 로드 완료 후 상태 점검:
facility-image-manage.js:657 📋 DOM 요소 상태: Object
facility-image-manage.js:669 📋 버튼 요소 상태: Object
facility-image-manage.js:680 드롭다운 1 상태: Object
facility-image-manage.js:680 드롭다운 2 상태: Object
facility-image-manage.js:680 드롭다운 3 상태: Object
facility-image-manage.js:680 드롭다운 4 상태: Object
facility-image-manage.js:689 📋 전역 함수 상태: Object
facility-image-manage.js:695 ✅ 상태 점검 완료
facility-folder-selection.js:63 📂 폴더 선택 버튼 클릭됨 - 안전한 처리
facility-folder-selection.js:137 📂 폴더 선택 처리 시작
facility-folder-selection.js:154 📂 폴더 입력 속성 확인: Object
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: Object
facility-folder-selection.js:193 ✅ 폴더 입력 이벤트 등록 성공
facility-image-cropper.js:209 🎯 파일 선택 버튼 클릭 - 안전한 처리 시작
facility-image-cropper.js:226 📂 파일 입력 설정: Object
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: Object
facility-image-cropper.js:237 ✅ 파일 대화상자 열기 성공
facility-image-cropper.js:209 🎯 파일 선택 버튼 클릭 - 안전한 처리 시작
facility-image-cropper.js:226 📂 파일 입력 설정: {multiple: true, webkitdirectory: false, accept: 'image/*', value: ''}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: '', id: 'imageInput', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:237 ✅ 파일 대화상자 열기 성공
facility-folder-selection.js:63 📂 폴더 선택 버튼 클릭됨 - 안전한 처리
facility-folder-selection.js:137 📂 폴더 선택 처리 시작
facility-folder-selection.js:154 📂 폴더 입력 속성 확인: {webkitdirectory: true, multiple: true, accept: 'image/*'}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: '', id: 'folderInput', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-folder-selection.js:193 ✅ 폴더 입력 이벤트 등록 성공
facility-folder-selection.js:177 📂 폴더 선택 완료, 파일 수: 7
facility-folder-selection.js:204 📁 폴더 파일 처리 시작: 7개 파일
facility-folder-selection.js:214 🖼️ 이미지 파일: 7개
facility-folder-selection.js:229 🖼️ 이미지 선택 모달 표시: 7개 이미지
facility-folder-selection.js:279 🔧 이미지 그리드 생성: 7개
facility-folder-selection.js:370 ✅ 이미지 그리드 표시 완료
facility-image-cropper.js:209 🎯 파일 선택 버튼 클릭 - 안전한 처리 시작
facility-image-cropper.js:226 📂 파일 입력 설정: {multiple: true, webkitdirectory: false, accept: 'image/*', value: ''}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: '', id: 'imageInput', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:237 ✅ 파일 대화상자 열기 성공
facility-image-cropper.js:913 📁 다중 파일 업로드 이벤트 발생
facility-image-cropper.js:921 📸 선택된 파일 수: 1
facility-image-cropper.js:1078 🔍 파일 검증: 행복요양원.png
facility-image-cropper.js:1095 📦 파일 크기: 행복요양원.png (2.26MB) - 제한 없음
facility-image-cropper.js:1097 ✅ 파일 검증 통과: 행복요양원.png
facility-image-cropper.js:1105 🔄 1개 파일 순차 처리 시작
facility-image-cropper.js:1108 📸 파일 처리 중: 행복요양원.png (1/1)
facility-image-cropper.js:627 🏢 시설명 가져오기 시도
facility-image-cropper.js:640 🔍 시설 ID로 시설명 조회 시도: 1
facility-image-cropper.js:702 ⚠️ 시설명을 찾을 수 없어 기본값 사용: 시설 1
facility-image-cropper.js:874 🔤 파일명 영문 변환 시작: 행복요양원.png
facility-image-cropper.js:898 ✅ 변환된 파일명: 행복요양원.png => facility-1_0_nursing-home_w9ggj5.png
facility-image-cropper.js:708 📝 자동 알트 텍스트 생성: {fileName: '행복요양원.png', facilityName: '시설 1'}
facility-image-cropper.js:783 ✅ 생성된 알트 텍스트: 시설 1 시설 이미지
facility-image-cropper.js:1117 🔤 파일 처리: {original: '행복요양원.png', converted: 'facility-1_0_nursing-home_w9ggj5.png', altText: '시설 1 시설 이미지'}
facility-image-cropper.js:1142 ✅ 이미지 로드 완료: 행복요양원.png (1/1)
facility-image-cropper.js:1146 🎉 모든 이미지 로드 완료 - 크롭 단계로 이동
facility-image-cropper.js:1170 🖼️ 크롭퍼에 이미지 로드: 행복요양원.png
facility-image-cropper.js:1195 🔄 이미지 전환: 1/1 - 행복요양원.png
facility-image-cropper.js:1244 🔄 이미지 설정 복원 중: 행복요양원.png
facility-image-cropper.js:1266 🔤 파일명 복원: {custom: 'facility-1_0_nursing-home_w9ggj5.png', converted: 'facility-1_0_nursing-home_w9ggj5.png', final: 'facility-1_0_nursing-home_w9ggj5.png', used: 'facility-1_0_nursing-home_w9ggj5.png'}
facility-image-cropper.js:1293 ✅ 이미지 설정 복원 완료: {original: '행복요양원.png', converted: 'facility-1_0_nursing-home_w9ggj5.png', altText: '시설 1 시설 이미지', fileName: 'facility-1_0_nursing-home_w9ggj5.png'}
facility-image-cropper.js:1180 ✅ 이미지 로드 완료, 크롭퍼 초기화 시작
facility-image-cropper.js:1308 🔧 크롭퍼 초기화 - 16:9 비율 (프로필 방식)
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1350 ✅ 크롭퍼 준비 완료
facility-image-cropper.js:1351 📐 컨테이너 크기: {width: 438, height: 300}
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1385 🎯 setupSmartScroll: 컨테이너 찾음 crop-image-container
facility-image-cropper.js:1391 🖱️ 스마트 스크롤 기능 활성화
facility-image-cropper.js:1479 ✅ 시설 크롭퍼 스마트 스크롤 이벤트 등록 완료
facility-image-cropper.js:1480 🎯 이벤트 대상 컨테이너: crop-image-container DIV
facility-image-cropper.js:1481 📏 현재 컨테이너 크기: 438 x 300
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1405 🔍 현재 줌: 0.14 방향: 축소
facility-image-cropper.js:1453 🚫 최소 축소 완전 차단 - 줌 기능 무력화
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1405 🔍 현재 줌: 0.13 방향: 축소
facility-image-cropper.js:1453 🚫 최소 축소 완전 차단 - 줌 기능 무력화
facility-image-cropper.js:1446 🚫 Cropper.zoom() 호출 차단됨
facility-image-cropper.js:1405 🔍 현재 줌: 0.13 방향: 축소
facility-image-cropper.js:1453 🚫 최소 축소 완전 차단 - 줌 기능 무력화
facility-image-cropper.js:1446 🚫 Cropper.zoom() 호출 차단됨
facility-image-cropper.js:1405 🔍 현재 줌: 0.13 방향: 확대
facility-image-cropper.js:1446 🚫 Cropper.zoom() 호출 차단됨
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-cropper.js:1555 🖼️ 미리보기 업데이트 시작
facility-image-cropper.js:1569 ✅ 미리보기 업데이트 완료
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'SPAN', className: 'cropper-face cropper-invisible cropper-move', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:518 🏷️ 키워드 클릭됨: 로비
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm keyword-btn me-1 mb-1 btn-success', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'LABEL', className: 'btn btn-outline-secondary btn-sm', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: 'btn-check', id: 'formatJPEG', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:390 🔄 이미지 형식 변경: jpeg
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'LABEL', className: 'btn btn-outline-info btn-sm', id: '', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'INPUT', className: 'btn-check', id: 'formatWebP', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:390 🔄 이미지 형식 변경: webp
facility-image-cropper.js:1588 🔄 이미지 크롭 중: 1/1
facility-image-cropper.js:1620 ✅ 이미지 크롭 완료: 1 {altText: '시설 1 시설 이미지 로비', fileName: 'facility-1_0_nursing-home_w9ggj5.png-로비', hasCustomSettings: true}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-success loading', id: 'cropCurrentBtn', closest_dropdown: false, closest_dropdown_toggle: false, …}
facility-image-cropper.js:1635 🎉 모든 이미지 크롭 완료 - 관리 단계로 이동
facility-image-cropper.js:2560 🔄 모든 이미지 저장 시작...
facility-image-cropper.js:2594 📊 저장할 이미지 수: 1장 (크롭된 이미지: 1장, 원본 이미지: 0장)
facility-image-cropper.js:2661 📝 사용자 지정 파일명 적용: "facility-1_0_nursing-home_w9ggj5.png-로비" → "facility_1_0_facility-1-0-nursing.webp"
facility-image-cropper.js:2679 📤 이미지 1 업로드 중... (원본 인덱스: 0)
facility-image-cropper.js:2691 ✅ 이미지 1 저장 성공 (ID: 4)
facility-image-cropper.js:2703 🎉 모든 이미지 저장 완료: 1/1장
facility-image-cropper.js:2715 🔄 이미지 관리 단계로 이동
facility-image-cropper.js:2720 🛠️ 관리 단계 표시 완료
facility-image-cropper.js:2784 🔄 관리 이미지 그리드 업데이트 시작
facility-image-cropper.js:2810 📋 서버 응답 데이터: {images: Array(4), success: true, facilityName: '서울 행복요양원', totalCount: 4}
facility-image-cropper.js:2817 📋 서버에서 가져온 이미지 수: 4개
facility-image-cropper.js:2823 🔍 원본 이미지 데이터: (4) [{…}, {…}, {…}, {…}]
facility-image-cropper.js:2836 이미지 0: ID=1, Path=/uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp, Key=1_/uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
facility-image-cropper.js:2842 ✅ 유니크 이미지 추가: 1
facility-image-cropper.js:2836 이미지 1: ID=4, Path=/uploads/facility/facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp, Key=4_/uploads/facility/facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp
facility-image-cropper.js:2842 ✅ 유니크 이미지 추가: 4
facility-image-cropper.js:2836 이미지 2: ID=3, Path=/uploads/facility/facility_1_0_facility_one_image_0_8762e7f3.webp, Key=3_/uploads/facility/facility_1_0_facility_one_image_0_8762e7f3.webp
facility-image-cropper.js:2842 ✅ 유니크 이미지 추가: 3
facility-image-cropper.js:2836 이미지 3: ID=2, Path=/uploads/facility/facility_1_3_facility-interior-environment_77bf983d.webp, Key=2_/uploads/facility/facility_1_3_facility-interior-environment_77bf983d.webp
facility-image-cropper.js:2842 ✅ 유니크 이미지 추가: 2
facility-image-cropper.js:2848 🔧 중복 제거 후 유니크 이미지 수: 4개 (원본: 4개)
facility-image-cropper.js:2999 ✅ 관리 이미지 그리드 업데이트 완료
facility-image-cropper.js:2938 🔧 Bootstrap 드롭다운 초기화 시작: {dropdownCount: 4, bootstrapAvailable: true, bootstrapVersion: 'unknown'}
facility-image-cropper.js:2948 ✅ 드롭다운 1 초기화 성공: {element: button.btn.btn-sm.btn-light.dropdown-toggle, instance: ci, menu: ul.dropdown-menu.dropdown-menu-end}
facility-image-cropper.js:2948 ✅ 드롭다운 2 초기화 성공: {element: button.btn.btn-sm.btn-light.dropdown-toggle, instance: ci, menu: ul.dropdown-menu.dropdown-menu-end}
facility-image-cropper.js:2948 ✅ 드롭다운 3 초기화 성공: {element: button.btn.btn-sm.btn-light.dropdown-toggle, instance: ci, menu: ul.dropdown-menu.dropdown-menu-end}
facility-image-cropper.js:2948 ✅ 드롭다운 4 초기화 성공: {element: button.btn.btn-sm.btn-light.dropdown-toggle, instance: ci, menu: ul.dropdown-menu.dropdown-menu-end}
facility-image-cropper.js:2961 🔧 Bootstrap 드롭다운 초기화 완료: 4개
facility-image-cropper.js:2964 🔍 생성된 HTML 구조 검증:
facility-image-cropper.js:2971 이미지 카드 1: {imageId: '1', hasSetMainBtn: false, hasDeleteBtn: true, setMainImageId: 'null', deleteImageId: '1'}
facility-image-cropper.js:2971 이미지 카드 2: {imageId: '1', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-cropper.js:2971 이미지 카드 3: {imageId: '4', hasSetMainBtn: true, hasDeleteBtn: true, setMainImageId: '4', deleteImageId: '4'}
facility-image-cropper.js:2971 이미지 카드 4: {imageId: '4', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-cropper.js:2971 이미지 카드 5: {imageId: '4', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-cropper.js:2971 이미지 카드 6: {imageId: '3', hasSetMainBtn: true, hasDeleteBtn: true, setMainImageId: '3', deleteImageId: '3'}
facility-image-cropper.js:2971 이미지 카드 7: {imageId: '3', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-cropper.js:2971 이미지 카드 8: {imageId: '3', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-cropper.js:2971 이미지 카드 9: {imageId: '2', hasSetMainBtn: true, hasDeleteBtn: true, setMainImageId: '2', deleteImageId: '2'}
facility-image-cropper.js:2971 이미지 카드 10: {imageId: '2', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-cropper.js:2971 이미지 카드 11: {imageId: '2', hasSetMainBtn: false, hasDeleteBtn: false, setMainImageId: 'null', deleteImageId: 'null'}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', closest_dropdown: true, closest_dropdown_toggle: true, …}
facility-image-manage.js:291 🔽 드롭다운 토글 클릭 감지
facility-image-manage.js:297 🔍 드롭다운 토글 요소: {element: button.btn.btn-sm.btn-light.dropdown-toggle.show, id: '', className: 'btn btn-sm btn-light dropdown-toggle show', hasBootstrap: true, hasDropdown: true}
facility-image-manage.js:372 🔐 모든 드롭다운 닫기
facility-image-manage.js:311 🔧 Bootstrap Dropdown API 사용
facility-image-manage.js:323 ✅ Bootstrap 드롭다운 토글 성공
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', closest_dropdown: true, closest_dropdown_toggle: true, …}
facility-image-manage.js:291 🔽 드롭다운 토글 클릭 감지
facility-image-manage.js:297 🔍 드롭다운 토글 요소: {element: button.btn.btn-sm.btn-light.dropdown-toggle.show, id: '', className: 'btn btn-sm btn-light dropdown-toggle show', hasBootstrap: true, hasDropdown: true}
facility-image-manage.js:372 🔐 모든 드롭다운 닫기
facility-image-manage.js:311 🔧 Bootstrap Dropdown API 사용
facility-image-manage.js:323 ✅ Bootstrap 드롭다운 토글 성공
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', closest_dropdown: true, closest_dropdown_toggle: true, …}
facility-image-manage.js:291 🔽 드롭다운 토글 클릭 감지
facility-image-manage.js:297 🔍 드롭다운 토글 요소: {element: button.btn.btn-sm.btn-light.dropdown-toggle.show, id: '', className: 'btn btn-sm btn-light dropdown-toggle show', hasBootstrap: true, hasDropdown: true}
facility-image-manage.js:372 🔐 모든 드롭다운 닫기
facility-image-manage.js:311 🔧 Bootstrap Dropdown API 사용
facility-image-manage.js:323 ✅ Bootstrap 드롭다운 토글 성공
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}
facility-image-manage.js:235 🖱️ 클릭 이벤트 발생: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', closest_dropdown: true, closest_dropdown_toggle: true, …}
facility-image-manage.js:291 🔽 드롭다운 토글 클릭 감지
facility-image-manage.js:297 🔍 드롭다운 토글 요소: {element: button.btn.btn-sm.btn-light.dropdown-toggle.show, id: '', className: 'btn btn-sm btn-light dropdown-toggle show', hasBootstrap: true, hasDropdown: true}
facility-image-manage.js:372 🔐 모든 드롭다운 닫기
facility-image-manage.js:311 🔧 Bootstrap Dropdown API 사용
facility-image-manage.js:323 ✅ Bootstrap 드롭다운 토글 성공
facility-image-step3-manage.js:271 🖱️ 3단계 내 클릭: {tagName: 'BUTTON', className: 'btn btn-sm btn-light dropdown-toggle show', id: '', dataImageId: null}

2025-07-07 10:19:22.098 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.098 DEBUG 15788 --- [nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@139543361 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] will be managed by Spring
2025-07-07 10:19:22.098 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.countImagesByFacilityId        : ==>  Preparing: SELECT COUNT(*) FROM facility_images WHERE facility_id = ?
2025-07-07 10:19:22.098 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.countImagesByFacilityId        : ==> Parameters: 1(Long)
2025-07-07 10:19:22.099 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.countImagesByFacilityId        : <==      Total: 1
2025-07-07 10:19:22.099 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.101 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : ✅ 이미지 파일 검증 통과 - 파일명: facility_1_0_facility-1-0-nursing.webp, 크기: 83KB, 타입: image/webp
2025-07-07 10:19:22.102  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 📝 사용자 지정 파일명 적용: 'facility-1_0_nursing-home_w9ggj5.png-로비' → 'facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp'
2025-07-07 10:19:22.104  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 시설 이미지 파일 저장 완료: C:\carelink-uploads\facility\facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp
2025-07-07 10:19:22.104 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07] from current transaction
2025-07-07 10:19:22.104 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.insertFacilityImage            : ==>  Preparing: INSERT INTO facility_images ( facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date ) VALUES ( ?, ?, ?, ?, ?, NOW() )
2025-07-07 10:19:22.105 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.insertFacilityImage            : ==> Parameters: 1(Long), /uploads/facility/facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp(String), 시설 1 시설 이미지 로비(String), 0(Integer), false(Boolean)
2025-07-07 10:19:22.108 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.insertFacilityImage            : <==    Updates: 1
2025-07-07 10:19:22.111 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.111  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : ✅ facility_images 테이블에 저장 완료 - imageId: 4, path: /uploads/facility/facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp, 현재 총 4장
2025-07-07 10:19:22.111 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07] from current transaction
2025-07-07 10:19:22.111 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.countImagesByFacilityId        : ==>  Preparing: SELECT COUNT(*) FROM facility_images WHERE facility_id = ?
2025-07-07 10:19:22.112 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.countImagesByFacilityId        : ==> Parameters: 1(Long)
2025-07-07 10:19:22.112 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.countImagesByFacilityId        : <==      Total: 1
2025-07-07 10:19:22.112 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.112 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07] from current transaction
2025-07-07 10:19:22.112 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 10:19:22.113 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 10:19:22.113 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 10:19:22.113 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.113  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 🔄 시설 테이블 메인 이미지 정보 업데이트 시작 - facilityId: 1, imageCount: 4, mainImagePath: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 10:19:22.114 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07] from current transaction
2025-07-07 10:19:22.114 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateFacilityMainImage        : ==>  Preparing: UPDATE facility SET facility_image = ?, image_count = ?, updated_at = NOW() WHERE facility_id = ?
2025-07-07 10:19:22.114 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateFacilityMainImage        : ==> Parameters: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp(String), 4(Integer), 1(Long)
2025-07-07 10:19:22.115 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateFacilityMainImage        : <==    Updates: 1
2025-07-07 10:19:22.115 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.115  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : ✅ 시설 테이블 업데이트 성공 - facilityId: 1, 업데이트된 행: 1
2025-07-07 10:19:22.115 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.115 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.115 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@463e0c07]
2025-07-07 10:19:22.115 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 10:19:22.115 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@139543361 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.117 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@139543361 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] after transaction
2025-07-07 10:19:22.117  INFO 15788 --- [nio-8080-exec-1] c.e.c.controller.FacilityController      : ✅ 서비스 호출 완료 - 저장된 이미지ID: 4, 경로: /uploads/facility/facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp
2025-07-07 10:19:22.117  INFO 15788 --- [nio-8080-exec-1] c.e.c.controller.FacilityController      : ✅ 시설 이미지 저장 성공: facilityId=1, imageId=4
2025-07-07 10:19:22.118 DEBUG 15788 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 10:19:22.118 DEBUG 15788 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [{facilityId=1, imageId=4, success=true, imagePath=/uploads/facility/facility_1_0_facility-one_0_nurs (truncated)...]
2025-07-07 10:19:22.119 DEBUG 15788 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 10:19:22.124 DEBUG 15788 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/facility/1/images", parameters={}
2025-07-07 10:19:22.125 DEBUG 15788 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.carelink.controller.FacilityImageApiController#getFacilityImages(Long, HttpSession)
2025-07-07 10:19:22.125  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : 📋 시설 이미지 목록 API 호출 - facilityId: 1
2025-07-07 10:19:22.125 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 10:19:22.126 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1302161612 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] for JDBC transaction
2025-07-07 10:19:22.126 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1302161612 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] read-only
2025-07-07 10:19:22.126  INFO 15788 --- [nio-8080-exec-1] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 10:19:22.126 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 10:19:22.127 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70b29f]
2025-07-07 10:19:22.127 DEBUG 15788 --- [nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302161612 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] will be managed by Spring
2025-07-07 10:19:22.127 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 10:19:22.128 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 10:19:22.129 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 10:19:22.130 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70b29f]
2025-07-07 10:19:22.130 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 10:19:22.130  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 10:19:22.130 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70b29f] from current transaction
2025-07-07 10:19:22.130 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 10:19:22.130 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 10:19:22.131 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70b29f]
2025-07-07 10:19:22.132  INFO 15788 --- [nio-8080-exec-1] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 10:19:22.132  INFO 15788 --- [nio-8080-exec-1] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70b29f]
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70b29f]
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c70b29f]
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1302161612 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1302161612 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.132 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1302161612 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] after transaction
2025-07-07 10:19:22.133 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityService.getFacilityById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 10:19:22.133 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1967284937 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] for JDBC transaction
2025-07-07 10:19:22.133 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1967284937 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] read-only
2025-07-07 10:19:22.133  INFO 15788 --- [nio-8080-exec-1] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 시작 - facilityId: 1
2025-07-07 10:19:22.133 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 10:19:22.133 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d186679]
2025-07-07 10:19:22.133 DEBUG 15788 --- [nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967284937 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] will be managed by Spring
2025-07-07 10:19:22.133 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.FacilityMapper.getFacilityById   : ==>  Preparing: SELECT f.facility_id, f.facility_name, f.facility_type, f.address, f.phone, f.latitude, f.longitude, f.description, f.facility_image, f.homepage, f.capacity, f.current_occupancy, f.operating_hours, f.features, f.average_rating, f.review_count, f.grade_rating, f.registered_member_id, m.name as registered_member_name, f.is_deleted, f.is_approved, CASE WHEN f.is_deleted = true THEN '삭제됨' WHEN f.is_approved = false THEN '승인대기' ELSE '정상' END as status FROM facility f LEFT JOIN member m ON f.registered_member_id = m.member_id WHERE f.facility_id = ?
2025-07-07 10:19:22.134 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.FacilityMapper.getFacilityById   : ==> Parameters: 1(Long)
2025-07-07 10:19:22.135 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.FacilityMapper.getFacilityById   : <==      Total: 1
2025-07-07 10:19:22.135 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d186679]
2025-07-07 10:19:22.135 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-07-07 10:19:22.135  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 시설 메인 이미지 조회 - facilityId: 1
2025-07-07 10:19:22.135 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d186679] from current transaction
2025-07-07 10:19:22.135 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? AND is_main_image = TRUE LIMIT 1
2025-07-07 10:19:22.135 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : ==> Parameters: 1(Long)
2025-07-07 10:19:22.137 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getMainImageByFacilityId       : <==      Total: 1
2025-07-07 10:19:22.137 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d186679]
2025-07-07 10:19:22.137  INFO 15788 --- [nio-8080-exec-1] c.e.carelink.service.FacilityService     : ✅ 시설 메인 이미지 설정 완료 - imagePath: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 10:19:22.137  INFO 15788 --- [nio-8080-exec-1] c.e.carelink.service.FacilityService     : 시설 상세 정보 조회 완료 - facilityName: 서울 행복요양원, status: 정상, mainImage: /uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp
2025-07-07 10:19:22.137 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d186679]
2025-07-07 10:19:22.137 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d186679]
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d186679]
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1967284937 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1967284937 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1967284937 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] after transaction
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.getImagesByFacilityId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1840122245 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] for JDBC transaction
2025-07-07 10:19:22.138 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Setting JDBC Connection [HikariProxyConnection@1840122245 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] read-only
2025-07-07 10:19:22.139  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 시작 - facilityId: 1
2025-07-07 10:19:22.139 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 10:19:22.139 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f73999c]
2025-07-07 10:19:22.139 DEBUG 15788 --- [nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1840122245 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] will be managed by Spring
2025-07-07 10:19:22.139 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getImagesByFacilityId          : ==>  Preparing: SELECT image_id, facility_id, image_path, image_alt_text, image_order, is_main_image, upload_date, updated_at FROM facility_images WHERE facility_id = ? ORDER BY image_order ASC, upload_date ASC
2025-07-07 10:19:22.139 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getImagesByFacilityId          : ==> Parameters: 1(Long)
2025-07-07 10:19:22.143 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.getImagesByFacilityId          : <==      Total: 4
2025-07-07 10:19:22.143 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f73999c]
2025-07-07 10:19:22.143  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 시설 이미지 목록 조회 완료 - facilityId: 1, 이미지 수: 4
2025-07-07 10:19:22.144 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f73999c]
2025-07-07 10:19:22.144 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f73999c]
2025-07-07 10:19:22.144 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f73999c]
2025-07-07 10:19:22.144 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 10:19:22.144 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1840122245 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.144 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Resetting read-only flag of JDBC Connection [HikariProxyConnection@1840122245 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.144 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1840122245 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] after transaction
2025-07-07 10:19:22.145  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : 🔍 데이터 정합성 검증 시작 - facilityId: 1, 이미지 수: 4
2025-07-07 10:19:22.145  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : 📊 메인 이미지 수: 1
2025-07-07 10:19:22.145  WARN 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : ⚠️ 이미지 순서 중복 발견 - 자동 수정 실행
2025-07-07 10:19:22.145  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : 🔧 이미지 순서 수정: imageId=4, 0 → 1
2025-07-07 10:19:22.145 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.updateImageOrder]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-07 10:19:22.145 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1453662627 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] for JDBC transaction
2025-07-07 10:19:22.145  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 🔢 이미지 순서 업데이트 - imageId: 4, newOrder: 1
2025-07-07 10:19:22.145 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 10:19:22.145 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d9f785]
2025-07-07 10:19:22.145 DEBUG 15788 --- [nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453662627 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] will be managed by Spring
2025-07-07 10:19:22.145 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : ==>  Preparing: UPDATE facility_images SET image_order = ?, updated_at = NOW() WHERE image_id = ?
2025-07-07 10:19:22.146 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : ==> Parameters: 1(Integer), 4(Long)
2025-07-07 10:19:22.147 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : <==    Updates: 1
2025-07-07 10:19:22.147 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d9f785]
2025-07-07 10:19:22.147  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : ✅ 이미지 순서 업데이트 성공 - imageId: 4, newOrder: 1
2025-07-07 10:19:22.147 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d9f785]
2025-07-07 10:19:22.147 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d9f785]
2025-07-07 10:19:22.147 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29d9f785]
2025-07-07 10:19:22.147 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 10:19:22.147 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1453662627 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.149 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1453662627 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] after transaction
2025-07-07 10:19:22.149  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : 🔧 이미지 순서 수정: imageId=3, 1 → 2
2025-07-07 10:19:22.150 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.updateImageOrder]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-07 10:19:22.150 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1295325277 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] for JDBC transaction
2025-07-07 10:19:22.150  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 🔢 이미지 순서 업데이트 - imageId: 3, newOrder: 2
2025-07-07 10:19:22.150 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 10:19:22.150 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb6aba1]
2025-07-07 10:19:22.150 DEBUG 15788 --- [nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295325277 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] will be managed by Spring
2025-07-07 10:19:22.150 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : ==>  Preparing: UPDATE facility_images SET image_order = ?, updated_at = NOW() WHERE image_id = ?
2025-07-07 10:19:22.150 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : ==> Parameters: 2(Integer), 3(Long)
2025-07-07 10:19:22.151 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : <==    Updates: 1
2025-07-07 10:19:22.151 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb6aba1]
2025-07-07 10:19:22.151  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : ✅ 이미지 순서 업데이트 성공 - imageId: 3, newOrder: 2
2025-07-07 10:19:22.151 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb6aba1]
2025-07-07 10:19:22.151 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb6aba1]
2025-07-07 10:19:22.151 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb6aba1]
2025-07-07 10:19:22.151 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 10:19:22.151 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1295325277 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.153 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1295325277 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] after transaction
2025-07-07 10:19:22.154  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : 🔧 이미지 순서 수정: imageId=2, 2 → 3
2025-07-07 10:19:22.154 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.example.carelink.service.FacilityImageService.updateImageOrder]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-07 10:19:22.154 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@781401651 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] for JDBC transaction
2025-07-07 10:19:22.154  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : 🔢 이미지 순서 업데이트 - imageId: 2, newOrder: 3
2025-07-07 10:19:22.154 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-07-07 10:19:22.154 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306663e3]
2025-07-07 10:19:22.154 DEBUG 15788 --- [nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781401651 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] will be managed by Spring
2025-07-07 10:19:22.154 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : ==>  Preparing: UPDATE facility_images SET image_order = ?, updated_at = NOW() WHERE image_id = ?
2025-07-07 10:19:22.154 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : ==> Parameters: 3(Integer), 2(Long)
2025-07-07 10:19:22.155 DEBUG 15788 --- [nio-8080-exec-1] c.e.c.d.F.updateImageOrder               : <==    Updates: 1
2025-07-07 10:19:22.155 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306663e3]
2025-07-07 10:19:22.155  INFO 15788 --- [nio-8080-exec-1] c.e.c.service.FacilityImageService       : ✅ 이미지 순서 업데이트 성공 - imageId: 2, newOrder: 3
2025-07-07 10:19:22.156 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306663e3]
2025-07-07 10:19:22.156 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306663e3]
2025-07-07 10:19:22.156 DEBUG 15788 --- [nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306663e3]
2025-07-07 10:19:22.156 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-07-07 10:19:22.156 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@781401651 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6]
2025-07-07 10:19:22.159 DEBUG 15788 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@781401651 wrapping com.mysql.cj.jdbc.ConnectionImpl@704095e6] after transaction
2025-07-07 10:19:22.159  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : ✅ 데이터 정합성 검증 완료 - facilityId: 1
2025-07-07 10:19:22.159  INFO 15788 --- [nio-8080-exec-1] c.e.c.c.FacilityImageApiController       : ✅ 시설 이미지 목록 조회 성공 - facilityId: 1, 이미지 수: 4
2025-07-07 10:19:22.159 DEBUG 15788 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-07-07 10:19:22.159 DEBUG 15788 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [{images=[FacilityImageDTO(imageId=1, facilityId=1, imagePath=/uploads/facility/facility_1_0_facility (truncated)...]
2025-07-07 10:19:22.161 DEBUG 15788 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 10:19:22.174 DEBUG 15788 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/uploads/facility/facility_1_0_facility-lobby_8bea34fb.webp", parameters={}
2025-07-07 10:19:22.175 DEBUG 15788 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [URL [file:C:/carelink-uploads/facility/]]
2025-07-07 10:19:22.175 DEBUG 15788 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/uploads/facility/facility_1_0_facility_one_image_0_8762e7f3.webp", parameters={}
2025-07-07 10:19:22.175 DEBUG 15788 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/uploads/facility/facility_1_0_facility-one_0_nursing-home_w9_cb2b5684.webp", parameters={}
2025-07-07 10:19:22.175 DEBUG 15788 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/uploads/facility/facility_1_3_facility-interior-environment_77bf983d.webp", parameters={}
2025-07-07 10:19:22.176 DEBUG 15788 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [URL [file:C:/carelink-uploads/facility/]]
2025-07-07 10:19:22.176 DEBUG 15788 --- [nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [URL [file:C:/carelink-uploads/facility/]]
2025-07-07 10:19:22.176 DEBUG 15788 --- [nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [URL [file:C:/carelink-uploads/facility/]]
2025-07-07 10:19:22.179 DEBUG 15788 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 10:19:22.180 DEBUG 15788 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 10:19:22.181 DEBUG 15788 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 10:19:22.181 DEBUG 15788 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-07 10:19:28.111 DEBUG 15788 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 10:19:28.111 DEBUG 15788 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 10:19:28.111 DEBUG 15788 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.
2025-07-07 10:19:58.117 DEBUG 15788 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 10:19:58.117 DEBUG 15788 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-07-07 10:19:58.117 DEBUG 15788 --- [iCP housekeeper] com.zaxxer.hikari.pool.HikariPool        : CareLink-HikariCP - Fill pool skipped, pool is at sufficient level.